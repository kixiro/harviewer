/* See license.txt for terms of usage */

define("preview/menu",["domplate/domplate","core/lib","domplate/toolbar","core/trace"],function(e,t,n,o){function i(){}var s=e.domplate,a=e.DIV,l=s({tag:a({class:"menu",_repObject:"$object"},a({class:"menuHandle",onmousemove:"$onMouseMove",onclick:"$onMouseClick"}),a({class:"menuContent",style:"display: none"})),onMouseMove:function(e){var n=t.fixEvent(e);this.open(n.target)},onMouseClick:function(e){var n=t.fixEvent(e);this.toggle(n.target)},open:function(e){var n=t.getAncestorByClass(e,"menu"),o=t.getElementByClass(n,"menuContent");o.clientWidth>0||this.toggle(e)},toggle:function(e){var n=t.getAncestorByClass(e,"menu"),o=t.getElementByClass(n,"menuContent");$(o).animate({width:"toggle"},void 0,void 0,function(){var e=t.getElementByClass(n,"menuHandle");o.clientWidth>0?t.setClass(e,"opened"):t.removeClass(e,"opened")})},render:function(e,t){return this.tag.append({object:t},e,this)}});return i.prototype={render:function(e){this.element=l.render(e),this.toolbar=new n,this.toolbar.addButton({id:"credentials",label:"Powered by Jan Odvarko",tooltiptext:"http://www.softwareishard.com/blog/har-viewer/",command:t.bindFixed(this.onCredentials,this,!0)});var o=t.getElementByClass(this.element,"menuContent");this.toolbar.render(o),t.isWebkit&&(o.style.paddingTop="1px")},onCredentials:function(){window.open("http://www.softwareishard.com/blog/har-viewer/")},onFullPreview:function(){}},i});
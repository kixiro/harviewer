/* See license.txt for terms of usage */

/**
 * @license i18n 2.0.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/i18n/LICENSE
 */

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/**
 * JSONSchema Validator - Validates JavaScript objects using JSON Schemas
 *	(http://www.json.com/json-schema-proposal/)
 *
 * Copyright (c) 2007 Kris Zyp SitePen (www.sitepen.com)
 * Licensed under the MIT (MIT-LICENSE.txt) license.
To use the validator call JSONSchema.validate with an instance object and an optional schema object.
If a schema is provided, it will be used to validate. If the instance object refers to a schema (self-validating),
that schema will be used to validate and the schema parameter is not necessary (if both exist,
both validations will occur).
The validate method will return an array of validation errors. If there are no errors, then an
empty list will be returned. A validation error will have two properties:
"property" which indicates which property had the error
"message" which indicates what the error was
 */

// (c) 2007-2010 Steven Levithan

/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */

/* SWFObject v2.1 <http://code.google.com/p/swfobject/>
	Copyright (c) 2007-2008 Geoff Stearns, Michael Williams, and Bobby van der Sluis
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/

/*
	Downloadify: Client Side File Creation
	JavaScript + Flash Library
	
	Version: 0.1

	Copyright (c) 2009 Douglas C. Neiner

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/

/*
Copyright Jason E. Smith 2008 Licensed under the Apache License, Version 2.0 (the "License");
You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
*/

define("core/array",["core/trace"],function(e){var t={};return t.isArray=function(e){return Array.isArray(e)},t.cloneArray=function(e,t){var n=[];if(t)for(var i=0;i<e.length;++i)n.push(t(e[i]));else for(var r=0;r<e.length;++r)n.push(e[r]);return n},t.arrayInsert=function(e,t,n){for(var i=0;i<n.length;++i)e.splice(i+t,0,n[i]);return e},t.remove=function(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return e.splice(n,1),!0;return!1},t}),define("core/css",["core/trace"],function(e){var t={};return t.hasClass=function(e,t){if(!e||1!==e.nodeType)return!1;for(var n=jQuery(e),i=1;i<arguments.length;++i)if(t=arguments[i],!n.hasClass(t))return!1;return!0},t.setClass=function(e,t){e&&jQuery(e).addClass(t)},t.removeClass=function(e,t){e&&jQuery(e).removeClass(t)},t.toggleClass=function(e,t){e&&jQuery(e).toggleClass(t)},t.setClassTimed=function(e,n,i){i||(i=1300),e.__setClassTimeout?clearTimeout(e.__setClassTimeout):t.setClass(e,n),e.__setClassTimeout=setTimeout(function(){delete e.__setClassTimeout,t.removeClass(e,n)},i)},t.getHead=function(e){return e.getElementsByTagName("head")[0]},t.addStyleSheet=function(e,n){if(!e.getElementById(n)){var i=e.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=n,i.setAttribute("id",n);var r=t.getHead(e);r.appendChild(i)}},t}),define("core/date",["core/trace"],function(e){var t={};return t.parseISO8601=function(e){var n=t.fromISOString(e);return n?n.getTime():null},t.fromISOString=function(e){if(!e)return null;var t=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/,n=e.toString().match(new RegExp(t));if(!n)return null;var i=new Date;if(i.setUTCDate(1),i.setUTCFullYear(parseInt(n[1],10)),i.setUTCMonth(parseInt(n[3],10)-1),i.setUTCDate(parseInt(n[5],10)),i.setUTCHours(parseInt(n[7],10)),i.setUTCMinutes(parseInt(n[9],10)),i.setUTCSeconds(parseInt(n[11],10)),n[12]?i.setUTCMilliseconds(1e3*parseFloat(n[12])):i.setUTCMilliseconds(0),"Z"!==n[13]){var r=60*n[15]+parseInt(n[17],10);r*="-"===n[14]?-1:1,i.setTime(i.getTime()-60*r*1e3)}return i},t.toISOString=function(e){function t(e,t){t||(t=2);for(var n=new String(e);n.length<t;)n="0"+n;return n}var n=e.getUTCFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds(),3),i=e.getTimezoneOffset(),r=Math.floor(i/60),a=Math.floor(i%60),o=(i>0?"-":"+")+t(Math.abs(r))+":"+t(Math.abs(a));return n+o},t}),define("core/sniff",["core/trace"],function(e){var t={},n="undefined"!=typeof navigator,i="undefined"!=typeof window,r=n?navigator.userAgent.toLowerCase():"";return t.isFirefox=/firefox/.test(r),t.isOpera=/opera/.test(r),t.isWebkit=/webkit/.test(r),t.isSafari=/webkit/.test(r),t.isIE=/msie/.test(r)&&!/opera/.test(r),t.isIE6=n&&/msie 6/i.test(navigator.appVersion),t.browserVersion=(r.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],t.isIElt8=t.isIE&&t.browserVersion-0<8,t.supportsSelectElementText=i&&(window.getSelection&&window.document.createRange||window.document.body.createTextRange),t}),define("core/dom",["./array","./css","./sniff","core/trace"],function(e,t,n,i){var r={};return r.getBody=function(e){if(e.body)return e.body;var t=e.getElementsByTagName("body")[0];return t?t:null},r.getAncestorByClass=function(e,n){for(var i=e;i;i=i.parentNode)if(t.hasClass(i,n))return i;return null},r.$=function(){return r.getElementByClass.apply(this,arguments)},r.getElementByClass=function(n,i){if(!n)return null;var a=e.cloneArray(arguments);a.splice(0,1);for(var o=n.firstChild;o;o=o.nextSibling){var s=e.cloneArray(a);if(s.unshift(o),t.hasClass.apply(this,s))return o;var l=r.getElementByClass.apply(this,s);if(l)return l}return null},r.getElementsByClass=function(n,i){function r(n,i,a){for(var o=n.firstChild;o;o=o.nextSibling){var s=e.cloneArray(i);s.unshift(o),t.hasClass.apply(null,s)&&a.push(o),r(o,i,a)}}var a=e.cloneArray(arguments);if(a.shift(),n.querySelectorAll){var o="."+a.join(".");return n.querySelectorAll(o)}var s=[];return r(n,a,s),s},r.getChildByClass=function(e){for(var n=1;n<arguments.length;++n){var i=arguments[n],r=e.firstChild;for(e=null;r;r=r.nextSibling)if(t.hasClass(r,i)){e=r;break}}return e},r.isAncestor=function(e,t){for(var n=e;n;n=n.parentNode)if(n===t)return!0;return!1},r.eraseNode=function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},r.clearNode=function(e){e.innerHTML=""},r.getOverflowParent=function(e){for(var t=e.parentNode;t;t=t.offsetParent)if(t.scrollHeight>t.offsetHeight)return t},r.getElementBox=function(e){var t={};if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=n.isIE?document.body.clientTop||document.documentElement.clientTop:0,o=r.getWindowScrollPosition();t.top=Math.round(i.top-a+o.top),t.left=Math.round(i.left-a+o.left),t.height=Math.round(i.bottom-i.top),t.width=Math.round(i.right-i.left)}else{var s=r.getElementPosition(e);t.top=s.top,t.left=s.left,t.height=e.offsetHeight,t.width=e.offsetWidth}return t},r.getElementPosition=function(e){var t=0,n=0;do t+=e.offsetLeft,n+=e.offsetTop;while(e===e.offsetParent);return{left:t,top:n}},r.getWindowSize=function(){var e,t=0,n=0;return"number"==typeof window.innerWidth?(t=window.innerWidth,n=window.innerHeight):(e=document.documentElement)&&(e.clientHeight||e.clientWidth)?(t=e.clientWidth,n=e.clientHeight):(e=document.body)&&(e.clientHeight||e.clientWidth)&&(t=e.clientWidth,n=e.clientHeight),{width:t,height:n}},r.getWindowScrollSize=function(){var e,t=0,i=0;return!n.isIEQuiksMode&&(e=document.documentElement)&&(e.scrollHeight||e.scrollWidth)&&(t=e.scrollWidth,i=e.scrollHeight),(e=document.body)&&(e.scrollHeight||e.scrollWidth)&&(e.scrollWidth>t||e.scrollHeight>i)&&(t=e.scrollWidth,i=e.scrollHeight),{width:t,height:i}},r.getWindowScrollPosition=function(){var e,t=0,n=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,n=window.pageXOffset):(e=document.body)&&(e.scrollTop||e.scrollLeft)?(t=e.scrollTop,n=e.scrollLeft):(e=document.documentElement)&&(e.scrollTop||e.scrollLeft)&&(t=e.scrollTop,n=e.scrollLeft),{top:t,left:n}},r.scrollIntoCenterView=function(e,t,n,i){if(e&&(t||(t=r.getOverflowParent(e)),t)){var a=r.getClientOffset(e);if(!i){var o=a.y-t.scrollTop,s=t.scrollTop+t.clientHeight-(a.y+e.offsetHeight);if(0>o||0>s){var l=a.y-t.clientHeight/2;t.scrollTop=l}}if(!n){var c=a.x-t.scrollLeft,u=t.scrollLeft+t.clientWidth-(a.x+e.clientWidth);if(0>c||0>u){var p=a.x-t.clientWidth/2;t.scrollLeft=p}}}},r.getClientOffset=function(e){function t(e,n,i){var r=e.offsetParent,a=i.getComputedStyle(e,"");e.offsetLeft&&(n.x+=e.offsetLeft+parseInt(a.borderLeftWidth,10)),e.offsetTop&&(n.y+=e.offsetTop+parseInt(a.borderTopWidth,10)),r?1===r.nodeType&&t(r,n,i):e.ownerDocument.defaultView.frameElement&&t(e.ownerDocument.defaultView.frameElement,n,e.ownerDocument.defaultView)}var n={x:0,y:0};if(e){var i=e.ownerDocument.defaultView;t(e,n,i)}return n},r}),define("core/events",["core/trace"],function(e){var t={};return t.dispatch=function(t,n,i){for(var r=0;t&&r<t.length;r++){var a=t[r];if(a[n])try{a[n].apply(a,i)}catch(o){e.exception(o)}}},t.dispatch2=function(t,n,i){for(var r=0;r<t.length;r++){var a=t[r];if(a[n])try{var o=a[n].apply(a,i);if(o)return o}catch(s){e.exception(s)}}},t.fixEvent=function(e){return jQuery.event.fix(e||window.event)},t.fireEvent=function(e,t){if(document.createEvent){var n=document.createEvent("Events");return n.initEvent(t,!0,!1),!e.dispatchEvent(n)}},t.cancelEvent=function(e){var n=t.fixEvent(e);n.stopPropagation(),n.preventDefault()},t.addEventListener=function(e,t,n,i){i=i||!1,e.addEventListener?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n,i){i=i||!1,e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n)},t.isLeftClick=function(e){return 0===e.button&&t.noKeyModifiers(e)},t.noKeyModifiers=function(e){return!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)},t.isControlClick=function(e){return 0===e.button&&t.isControl(e)},t.isShiftClick=function(e){return 0===e.button&&t.isShift(e)},t.isControl=function(e){return(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey},t.isAlt=function(e){return e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey},t.isAltClick=function(e){return 0===e.button&&t.isAlt(e)},t.isControlShift=function(e){return(e.metaKey||e.ctrlKey)&&e.shiftKey&&!e.altKey},t.isShift=function(e){return e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!e.altKey},t}),define("core/json",["./trace"],function(e){var t={};return t.cloneJSON=function(t){if(null===t||"object"!=typeof t)return t;try{var n=t.constructor();for(var i in t)n[i]=this.cloneJSON(t[i]);return n}catch(r){e.exception(r)}return null},t}),define("core/mime",["core/trace"],function(e){var t={};return t.extractMimeType=function(e){if("string"!=typeof e)throw new Error(typeof e+" is not of type string");var t=e.indexOf(";");return t>-1&&(e=e.substring(0,t).trim()),e},t}),define("core/object",["./array","./sniff"],function(e,t){var n={},i=Object.prototype.toString,r=/^\s*function(\s+[\w_$][\w\d_$]*)?\s*\(/;return n.isFunction=function(e){return e?"[object Function]"===i.call(e)||t.isIE&&"string"!=typeof e&&r.test(String(e)):!1},n.extend=function(e,t){var i={};return n.append(i,e),n.append(i,t),i},n.append=function(e,t){for(var n in t)e[n]=t[n];return e},n.bind=function(){var t=e.cloneArray(arguments),n=t.shift(),i=t.shift();return function(){return n.apply(i,e.arrayInsert(e.cloneArray(t),0,arguments))}},n.bindFixed=function(){var t=e.cloneArray(arguments),n=t.shift(),i=t.shift();return function(){return n.apply(i,t)}},n}),define("core/rect",["./trace"],function(e){var t={};return t.inflateRect=function(e,t,n){return{top:e.top-n,left:e.left-t,height:e.height+2*n,width:e.width+2*t}},t.pointInRect=function(e,t,n){return n>=e.top&&n<=e.top+e.height&&t>=e.left&&t<=e.left+e.width},t}),define("core/string",["./array","core/trace"],function(e,t){var n={};return n.formatSize=function(e){var t=1;if(t=t>2?2:t,t=-1>t?-1:t,-1===t)return e+" B";var n=Math.pow(10,t);return-1===e||void 0===e?"?":0===e?"0":1024>e?e+" B":1048576>e?Math.round(e/1024*n)/n+" KB":Math.round(e/1048576*n)/n+" MB"},n.formatTime=function(e){return-1===e?"-":1e3>e?e+"ms":6e4>e?Math.ceil(e/10)/100+"s":Math.ceil(e/6e4*100)/100+"m"},n.formatNumber=function(e){e=String(e);for(var t=e.split("."),n=t[0],i=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;r.test(n);)n=n.replace(r,"$1 $2");return n+i},n.formatString=function(t){var n=e.cloneArray(arguments);t=n.shift();for(var i=0;i<n.length;i++){var r=n[i].toString();t=t.replace("%S",r)}return t},n.startsWith=function(e,t,n){return n=n||0,e.indexOf(t,n)===n},n.trim=function(e){return e.replace(/^\s*|\s*$/g,"")},n.wrapText=function(e,t){for(var i=/[^A-Za-z_$0-9'"-]/,r=[],a=100,o=n.splitLines(e),s=0;s<o.length;++s){for(var l=o[s];l.length>a;){var c=i.exec(l.substr(a,100)),u=a+(c?c.index:0),p=l.substr(0,u);l=l.substr(u),t||r.push("<pre>"),r.push(t?p:n.escapeHTML(p)),t||r.push("</pre>")}t||r.push("<pre>"),r.push(t?l:n.escapeHTML(l)),t||r.push("</pre>")}return r.join(t?"\n":"")},n.insertWrappedText=function(e,t,i){t.innerHTML="<pre>"+n.wrapText(e,i)+"</pre>"},n.splitLines=function(e){var t=/\r\n|\r|\n/;if(!e)return[];if(e.split)return e.split(t);var n=String(e),i=n.split(t);return i},n.escapeHTML=function(e){function t(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&#39;";case'"':return"&quot;"}return"?"}return String(e).replace(/[<>&"']/g,t)},n.cropString=function(e,t){e=String(e);var i=t?t/2:50;return e.length>t?n.escapeNewLines(e.substr(0,i)+"..."+e.substr(e.length-i)):n.escapeNewLines(e)},n.escapeNewLines=function(e){return e.replace(/\r/g,"\\r").replace(/\n/g,"\\n")},n}),define("core/url",["core/trace"],function(e){var t={};return t.getFileName=function(n){try{var i=t.splitURLBase(n);return i.name}catch(r){e.log(unescape(n))}return n},t.getFileExtension=function(e){if(!e)return null;var t=e.indexOf("?");-1!==t&&(e=e.substr(0,t));var n=e.lastIndexOf(".");return e.substr(n+1)},t.splitURLBase=function(e){return t.isDataURL(e)?t.splitDataURL(e):t.splitURLTrue(e)},t.isDataURL=function(e){return e&&"data:"===e.substr(0,5)},t.splitDataURL=function(e){var n=e.indexOf(":",3);if(4!==n)return!1;var i=e.indexOf(",",n+1);if(n>i)return!1;for(var r={encodedContent:e.substr(i+1)},a=e.substr(n+1,i),o=a.split(";"),s=0;s<o.length;s++){var l=o[s].split("=");2===l.length&&(r[l[0]]=l[1])}if(r.hasOwnProperty("fileName")){var c=decodeURIComponent(r.fileName),u=t.splitURLTrue(c);if(r.hasOwnProperty("baseLineNumber")){r.path=u.path,r.line=r.baseLineNumber;var p=decodeURIComponent(r.encodedContent.substr(0,200)).replace(/\s*$/,"");r.name="eval->"+p}else r.name=u.name,r.path=u.path}else r.hasOwnProperty("path")||(r.path="data:"),r.hasOwnProperty("name")||(r.name=decodeURIComponent(r.encodedContent.substr(0,200)).replace(/\s*$/,""));return r},t.splitURLTrue=function(e){var t=/:\/{1,3}(.*?)\/([^\/]*?)\/?($|\?.*)/,n=t.exec(e);return n?n[2]?{path:n[1],name:n[2]+n[3]}:{path:n[1],name:n[1]}:{name:e,path:e}},t.getQuery=function(e){if("string"!=typeof e)return window.location.search.substring(1);var t=e.indexOf("?");return 0>t?"":e.substring(t+1)},t.getHash=function(e){if("string"!=typeof e)return window.location.hash.substring(1);var t=e.indexOf("#");return 0>t?"":e.substring(t+1)},t.getURLParameter=function(e,n){for(var i=t.getQuery(n),r=i.split("&"),a=0;a<r.length;a++){var o=r[a].split("=");if(o[0]===e)return unescape(o[1])}return null},t.getURLParameters=function(e,n){for(var i=t.getQuery(n),r=[],a=i.split("&"),o=0;o<a.length;o++){var s=a[o].split("=");s[0]===e&&r.push(unescape(s[1]))}return r},t.getHashParameters=function(e,n){for(var i=t.getHash(n),r=[],a=i.split("&"),o=0;o<a.length;o++){var s=a[o].split("=");s[0]===e&&r.push(unescape(s[1]))}return r},t.parseURLParams=function(e){var n=e?e.indexOf("?"):-1;if(-1===n)return[];var i=e.substr(n+1),r=i.lastIndexOf("#");return-1!==r&&(i=i.substr(0,r)),i?t.parseURLEncodedText(i):[]},t.parseURLEncodedText=function(e,t){function n(e){try{return decodeURIComponent(e)}catch(t){return decodeURIComponent(unescape(e))}}var i=25e3,r=[];if(!e)return r;e=e.replace(/\+/g," ");for(var a=e.split("&"),o=0;o<a.length;++o)try{var s,l=a[o].indexOf("=");if(-1!==l){s=a[o].substring(0,l);var c=a[o].substring(l+1);c.length>i&&!t&&(c="LargeData"),r.push({name:n(s),value:n(c)})}else s=a[o],r.push({name:n(s),value:""})}catch(u){}return r.sort(function(e,t){return e.name<=t.name?-1:1}),r},t.getPrettyDomain=function(e){var t=/^(?!data:)[^:]+:\/{1,3}(www\.)?([^\/]{1,256})/.exec(e);return t?t[2]:""},t}),define("core/lib",["./array","./css","./date","./dom","./events","./json","./mime","./object","./rect","./sniff","./string","./url","./trace"],function(e,t,n,i,r,a,o,s,l,c,u,p,d){var h={};return s.append(h,c),s.append(h,s),s.append(h,r),s.append(h,l),s.append(h,e),s.append(h,u),s.append(h,n),s.append(h,o),s.append(h,p),s.append(h,i),s.append(h,t),s.append(h,a),h.selectElementText=function(e,t,n){var i,r=window,a=r.document;if(r.getSelection&&a.createRange){var o=r.getSelection();i=a.createRange(),i.setStart(e,t),i.setEnd(e,n),o.removeAllRanges(),o.addRange(i)}else a.body.createTextRange&&(i=a.body.createTextRange(),i.moveToElementText(e),i.select())},h}),define("domplate/tabView",["domplate/domplate","core/lib","core/trace"],function(e,t,n){function i(e){this.id=e,this.tabs=[],this.listeners=[],this.tabBarVisibility=!0}var r=e.domplate,a=e.A,o=e.DIV,s=e.TABLE,l=e.TAG,c=e.TBODY,u=e.TD,p=e.TR,d=r({tag:s({"class":"tabView",cellpadding:0,cellspacing:0,_repObject:"$tabView"},c(p({"class":"tabViewRow"},u({"class":"tabViewCol",valign:"top"},l("$tabList",{tabView:"$tabView"}))))),tabList:o({"class":"tabViewBody",onclick:"$onClickTab"},o({"class":"$tabView.id\\Bar tabBar"}),o({"class":"$tabView.id\\Bodies tabBodies"})),tabHeaderTag:a({"class":"$tab.id\\Tab tab",title:"$tab|getTitle",view:"$tab.id",_repObject:"$tab"},"$tab.label"),tabBodyTag:o({"class":"tab$tab.id\\Body tabBody",_repObject:"$tab"}),hideTab:function(e){return!1},onClickTab:function(e){var n=t.fixEvent(e),i=this.getTabView(n.target);i.onClickTab(n)},getTabView:function(e){var n=t.getAncestorByClass(e,"tabView");return n.repObject},getTitle:function(e){return e.title||""}});return i.prototype={appendTab:function(e){return this.tabs.push(e),e.tabView=this,e},removeTab:function(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t];if(n.id===e){this.tabs.splice(t,1);break}}},getTab:function(e){for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t];if(n.id===e)return n}},selectTabByName:function(e){var n=t.getElementByClass(this.element,e+"Tab");n&&this.selectTab(n)},showTabBar:function(e){this.element?e?this.element.removeAttribute("hideTabBar"):this.element.setAttribute("hideTabBar","true"):this.tabBarVisibility=e},addListener:function(e){this.listeners.push(e)},removeListener:function(e){t.remove(this.listeners,e)},onClickTab:function(e){var n=t.getAncestorByClass(e.target,"tab");n&&this.selectTab(n)},selectTab:function(e){if(t.hasClass(e,"tab")&&(!t.hasClass(e,"selected")||!e._updated)){var i=e.getAttribute("view");if(i){var r=t.getAncestorByClass(e,"tabViewBody");r.selectedTab&&(r.selectedTab.removeAttribute("selected"),r.selectedBody.removeAttribute("selected"),t.removeClass(r.selectedTab,"selected"),t.removeClass(r.selectedBody,"selected"));var a=t.getElementByClass(r,"tab"+i+"Body");a||n.error("TabView.selectTab; Missing tab body",e),r.selectedTab=e,r.selectedBody=a,r.selectedTab.setAttribute("selected","true"),r.selectedBody.setAttribute("selected","true"),t.setClass(r.selectedBody,"selected"),t.setClass(r.selectedTab,"selected"),this.updateTabBody(r,i)}}},updateTabBody:function(e,t){var n=e.selectedTab.repObject;if(!n._body._updated){n._body._updated=!0,n.bodyTag&&n.bodyTag.replace({tab:n},n._body),n&&n.onUpdateBody&&n.onUpdateBody(this,n._body);for(var i=0;i<this.listeners.length;i++){var r=this.listeners[i];r.onUpdateBody&&r.onUpdateBody(this,n._body)}}},render:function(e){this.element=d.tag.replace({tabView:this},e,d),t.setClass(this.element,this.id),this.showTabBar(this.tabBarVisibility);for(var i=0;i<this.tabs.length;i++){var r=this.tabs[i],a=r.tabHeaderTag?r.tabHeaderTag:d.tabHeaderTag,o=r.tabBodyTag?r.tabBodyTag:d.tabBodyTag;try{r._header=a.append({tab:r},t.$(e,"tabBar")),r._body=o.append({tab:r},t.$(e,"tabBodies"))}catch(s){n.exception("TabView.appendTab; Exception ",s)}}return this.element}},i.Tab=function(){},i.Tab.prototype={invalidate:function(){this._updated=!1},select:function(){this.tabView.selectTabByName(this.id)}},i}),define("core/cookies",["./string"],function(e){var t={getCookie:function(t){for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var r=n[i].split("=");if(e.trim(r[0])===t)return r[1].length?unescape(e.trim(r[1])):null}},setCookie:function(e,t,n,i,r,a){var o=new Date;o.setTime(o.getTime()),n&&(n=1e3*n*60*60*24);var s=new Date(o.getTime()+n);document.cookie=e+"="+escape(t)+(n?";expires="+s.toGMTString():"")+(i?";path="+i:"")+(r?";domain="+r:"")+(a?";secure":"")},removeCookie:function(e,t,n){this.getCookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")},toggleCookie:function(e){var t=this.getBooleanCookie(e);this.setCookie(e,!t)},getBooleanCookie:function(e){var t=this.getCookie(e);return t&&"false"!==t?!0:!1},setBooleanCookie:function(e,t){this.setCookie(e,t?"true":"false")}};return t}),function(){"use strict";function e(e,t,n,i,r,a){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&i.push(r+e+"/"+a))}function t(e,t,n,i,r){var a=i+t+"/"+r;require._fileExists(e.toUrl(a+".js"))&&n.push(a)}function n(e,t,i){var r;for(r in t)!t.hasOwnProperty(r)||e.hasOwnProperty(r)&&!i?"object"==typeof t[r]&&(!e[r]&&t[r]&&(e[r]={}),n(e[r],t[r],i)):e[r]=t[r]}var i=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(r){var a=r.config?r.config():{};return{version:"2.0.6",load:function(r,o,s,l){l=l||{},l.locale&&(a.locale=l.locale);var c,u,p,d=i.exec(r),h=d[1],f=d[4],g=d[5],m=f.split("-"),b=[],v={},y="";if(d[5]?(h=d[1],c=h+g):(c=r,g=d[4],f=a.locale,f||(f=a.locale="undefined"==typeof navigator?"root":(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"root").toLowerCase()),m=f.split("-")),l.isBuild){for(b.push(c),t(o,"root",b,h,g),u=0;u<m.length;u++)p=m[u],y+=(y?"-":"")+p,t(o,y,b,h,g);o(b,function(){s()})}else o([c],function(t){var i,r=[];for(e("root",t,r,b,h,g),u=0;u<m.length;u++)i=m[u],y+=(y?"-":"")+i,e(y,t,r,b,h,g);o(b,function(){var e,i,a;for(e=r.length-1;e>-1&&r[e];e--)a=r[e],i=t[a],(i===!0||1===i)&&(i=o(h+a+"/"+g)),n(v,i);s(v)})})}}})}(),define("nls/homeTab",{root:{homeTabLabel:"Home",loadingHar:"Loading..."}}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,r){if(n===r)return!0;if(e===i){if("http"===e)return t(n,"80")===t(r,"80");if("https"===e)return t(n,"443")===t(r,"443")}return!1}var i,r,a,o,s,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,p="undefined"!=typeof location&&location.href,d=p&&location.protocol&&location.protocol.replace(/\:/,""),h=p&&location.hostname,f=p&&(location.port||void 0),g={},m=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(c,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(i){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,a=e.lastIndexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!o||a>1)?(t=e.substring(0,a),n=e.substring(a+1)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(r="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,a){var o,s,l,c=i.xdRegExp.exec(e);return c?(o=c[2],s=c[3],s=s.split(":"),l=s[1],s=s[0],(!o||o===t)&&(!s||s.toLowerCase()===r.toLowerCase())&&(!l&&!s||n(o,l,t,a))):!0},finishLoad:function(e,t,n,r){n=t?i.strip(n):n,m.isBuild&&(g[e]=n),r(n)},load:function(e,t,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();m.isBuild=r&&r.isBuild;var a=i.parseName(e),o=a.moduleName+(a.ext?"."+a.ext:""),s=t.toUrl(o),l=m.useXhr||i.useXhr;return 0===s.indexOf("empty:")?void n():void(!p||l(s,d,h,f)?i.get(s,function(t){i.finishLoad(e,a.strip,t,n)},function(e){n.error&&n.error(e)}):t([o],function(e){i.finishLoad(a.moduleName+"."+a.ext,a.strip,e,n)}))},write:function(e,t,n,r){if(g.hasOwnProperty(t)){var a=i.jsEscape(g[t]);n.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,t,n,r,a){var o=i.parseName(t),s=o.ext?"."+o.ext:"",l=o.moduleName+s,c=n.toUrl(o.moduleName+s)+".js";i.load(l,n,function(t){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},i.write(e,l,n,a)},a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(r=require.nodeRequire("fs"),i.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(a){n&&n(a)}}):"xhr"===m.env||!m.env&&i.createXhr()?i.get=function(e,t,n,r){var a,o=i.createXhr();if(o.open("GET",e,!0),r)for(a in r)r.hasOwnProperty(a)&&o.setRequestHeader(a.toLowerCase(),r[a]);m.onXhr&&m.onXhr(o,e),o.onreadystatechange=function(i){var r,a;4===o.readyState&&(r=o.status||0,r>399&&600>r?(a=new Error(e+" HTTP status: "+r),a.xhr=o,n&&n(a)):t(o.responseText),m.onXhrComplete&&m.onXhrComplete(o,e))},o.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var n,i,r="utf-8",a=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),r)),l="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(o),n.append(i);l=String(n.toString())}finally{s.close()}t(l)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(a=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in a,i.get=function(e,t){var n,i,r,l={};s&&(e=e.replace(/\//g,"\\")),r=new FileUtils.File(e);try{n=a["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(r,1,0,!1),i=a["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),i.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),l),i.close(),n.close(),t(l.value)}catch(c){throw new Error((r&&r.path||"")+": "+c)}}),i}),define("text!tabs/homeTab.html",[],function(){return'<div>\r\n<ul style="padding-left: 20px; line-height: 20px; margin-top: 0px">\r\n<li>Paste <a href="@HAR_SPEC_URL@">HAR</a>\r\nlog into the text box below and\r\npress the <b>Preview</b> button.</li>\r\n<li>Or drop <span class="red">*.har</span> file(s) anywhere on the page (if your browser supports that).</li>\r\n</ul>\r\n<table cellpadding="0" cellspacing="4">\r\n    <tr>\r\n        <td><input type="checkbox" id="validate" checked="true"></input></td>\r\n        <td style="vertical-align:middle;padding-bottom: 1px;">Validate data before processing?</td>\r\n    </tr>\r\n</table>\r\n<textarea id="sourceEditor" class="sourceEditor" cols="80" rows="5"></textarea>\r\n<p><table cellpadding="0" cellspacing="0">\r\n    <tr>\r\n        <td><button id="appendPreview">Preview</button></td>\r\n    </tr>\r\n</table></p>\r\n<br/>\r\n<h3>HAR Log Examples</h3>\r\n<ul style="line-height:20px;">\r\n<li><span id="example1" class="link example" path="examples/inline-scripts-block.har">\r\nInline scripts block</span> - Inline scripts block the page load.</li>\r\n<li><span id="example2" class="link example" path="examples/browser-blocking-time.har">\r\nBlocking time</span> - Impact of a limit of max number of parallel connections.</li>\r\n<li><span id="example3" class="link example" path="examples/softwareishard.com.har">\r\nBrowser cache</span> - Impact of the browser cache on page load (the same page loaded three times).</li>\r\n<li><span id="example4" class="link example" path="examples/google.com.har">\r\nSingle page</span> - Single page load (empty cache).</li>\r\n</ul>\r\n<h3>HAR Logs Online </h3>\r\n<i>You can also preview any HAR file (in JSONP format) that is available online by using\r\n<b>inputUrl</b> parameter<br/>\r\n(see more in the <span class="linkAbout link">About</span> tab):</i><br/>\r\n<p><code><a href="?inputUrl=http://www.janodvarko.cz/har/viewer/examples/inline-scripts-block.harp">\r\n    http://www.softwareishard.com/har/viewer?inputUrl=http://www.janodvarko.cz/har/viewer/examples/inline-scripts-block.harp</a></code></p>\r\n\r\n<br/>\r\n<p><i>This viewer supports HAR 1.2 (see the <span class="linkAbout link">About</span> tab).<br/></i></p>\r\n</div>\r\n'}),define("preview/jsonSchema",[],function(){var e={validate:function(e,t){return this._validate(e,t,!1)},checkPropertyChange:function(e,t,n){return this._validate(e,t,n||"property")},_validate:function(e,t,n){function i(e,t,o,s){function l(e){a.push({property:o,message:e})}function c(e,t){if(e){if(!("string"!=typeof e||"any"==e||("null"==e?null===t:typeof t==e)||t instanceof Array&&"array"==e||"integer"==e&&t%1===0))return[{property:o,message:typeof t+" value found, but a "+e+" is required"}];if(e instanceof Array){for(var n=[],r=0;r<e.length&&(n=c(e[r],t)).length;r++);if(n.length)return n}else if("object"==typeof e){var s=a;a=[],i(t,e,o);var l=a;return a=s,l}}return[]}var u;if(o+=o?"number"==typeof s?"["+s+"]":"undefined"==typeof s?"":"."+s:s,("object"!=typeof t||t instanceof Array)&&(o||"function"!=typeof t))return"function"==typeof t?e instanceof t||l("is not an instance of the class/constructor "+t.name):t&&l("Invalid schema/property definition "+t),null;if(n&&t.readonly&&l("is a readonly field, it can not be changed"),t["extends"]&&i(e,t["extends"],o,s),void 0===e)t.optional||l("is missing and it is not optional");else if(a=a.concat(c(t.type,e)),t.disallow&&!c(t.disallow,e).length&&l(" disallowed value was matched"),null!==e){if(e instanceof Array){if(t.items)if(t.items instanceof Array)for(s=0,u=e.length;u>s;s++)a.concat(i(e[s],t.items[s],o,s));else for(s=0,u=e.length;u>s;s++)a.concat(i(e[s],t.items,o,s));t.minItems&&e.length<t.minItems&&l("There must be a minimum of "+t.minItems+" in the array"),t.maxItems&&e.length>t.maxItems&&l("There must be a maximum of "+t.maxItems+" in the array")}else t.properties&&a.concat(r(e,t.properties,o,t.additionalProperties));if(t.pattern&&"string"==typeof e&&!e.match(t.pattern)&&l("does not match the regex pattern "+t.pattern),t.maxLength&&"string"==typeof e&&e.length>t.maxLength&&l("may only be "+t.maxLength+" characters long"),t.minLength&&"string"==typeof e&&e.length<t.minLength&&l("must be at least "+t.minLength+" characters long"),void 0!==typeof t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&l("must have a minimum value of "+t.minimum),void 0!==typeof t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&l("must have a maximum value of "+t.maximum),t["enum"]){var p=t["enum"];u=p.length;for(var d,h=0;u>h;h++)if(p[h]===e){d=1;break}d||l("does not have a value in the enumeration "+p.join(", "))}"number"==typeof t.maxDecimal&&e.toString().match(new RegExp("\\.[0-9]{"+(t.maxDecimal+1)+",}"))&&l("may only have "+t.maxDecimal+" digits of decimal places")}return null}function r(e,t,r,o){if("object"==typeof t){("object"!=typeof e||e instanceof Array)&&a.push({property:r,message:"an object is required"});for(var s in t)if(t.hasOwnProperty(s)&&("_"!=s.charAt(0)||"_"!=s.charAt(1))){var l=e[s],c=t[s];i(l,c,r,s)}}for(s in e){!e.hasOwnProperty(s)||"_"==s.charAt(0)&&"_"==s.charAt(1)||!t||t[s]||o!==!1||a.push({property:r,message:typeof l+"The property "+s+" is not defined in the schema and the schema does not allow additional properties"});var u=t&&t[s]&&t[s].requires;!u||u in e||a.push({property:r,message:"the presence of the property "+s+" requires that "+u+" also be present"}),l=e[s],!t||"object"!=typeof t||s in t||i(l,o,r,s),!n&&l&&l.$schema&&(a=a.concat(i(l,l.$schema,r,s)))}return a}var a=[];return t&&i(e,t,"",n||""),!n&&e&&e.$schema&&i(e,e.$schema,"",""),{valid:!a.length,errors:a}}};return e}),define("preview/ref",["core/lib"],function(e){var t={resolveJson:function(t,n){function i(f,g,m,b,v){var y,w,T=a in f?f[a]:m;void 0!==T&&(T=(o+T).replace(p,"$2$3"));var x=v||f;if(void 0!==T){if(s&&(f.__id=T),!n.schemas||f instanceof Array||!(w=T.match(/^(.+\/)[^\.\[]*$/))||(b=n.schemas[w[1]]),l[T]&&f instanceof Array==l[T]instanceof Array)x=l[T],delete x.$ref,y=!0;else{var C=b&&b.prototype;C&&(h.prototype=C,x=new h)}l[T]=x,c&&(c[T]=n.time)}var S=b&&b.properties,L=f.length;for(var E in f){if(E==L)break;if(f.hasOwnProperty(E)){w=f[E];var B=S&&S[E];if(B&&"date-time"==B.format&&"string"==typeof w)w=e.fromISOString(w);else if("object"==typeof w&&w&&!(w instanceof Date))if(r=w.$ref){delete f[E];var R=r.replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if((r="$"==R[1]||"this"==R[1]||""==R[1]?t:l[(o+R[1]).replace(p,"$2$3")])&&R[3]&&R[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(e,t,n,i,a){r=r&&r[n?n.replace(/[\"\'\\]/,""):a]}),r)w=r;else if(g)w=i(w,!1,w.$ref,B),w._loadObject=n.loader;else{var I;I||u.push(x),I=!0}}else g||(w=i(w,u==f,T&&d(T,E),B,x!=f&&"object"==typeof x[E]&&x[E]));if(f[E]=w,x!=f&&!x.__isDirty){var k=x[E];x[E]=w,!y||w===k||x._loadObject||w instanceof Date&&k instanceof Date&&w.getTime()==k.getTime()||"function"==typeof w&&"function"==typeof k&&w.toString()==k.toString()||!l.onUpdate||l.onUpdate(x,E,k,w);
}}}if(y){for(E in x)if(!x.__isDirty&&x.hasOwnProperty(E)&&!f.hasOwnProperty(E)&&"__id"!=E&&"__clientId"!=E&&!(x instanceof Array&&isNaN(E)))for(l.onUpdate&&"_loadObject"!=E&&"_idAttr"!=E&&l.onUpdate(x,E,x[E],void 0),delete x[E];x instanceof Array&&x.length&&void 0===x[x.length-1];)x.length--}else l.onLoad&&l.onLoad(x);return x}n=n||{};var r,a=n.idAttribute||"id",o=n.idPrefix||"",s=n.assignAbsoluteIds,l=n.index||{},c=n.timeStamps,u=[],p=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,d=this._addProp,h=function(){};return t&&"object"==typeof t&&(t=i(t,!1,n.defaultId),i(u,!1)),t},_addProp:function(e,t){return e+(e.match(/#/)?1==e.length?"":".":"#")+t}};return t}),define("preview/harSchema",[],function(){function e(){}var t=/^(\d{4})(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/,n={logType:{id:"logType",description:"HTTP Archive structure.",type:"object",properties:{log:{type:"object",properties:{version:{type:"string"},creator:{$ref:"creatorType"},browser:{$ref:"browserType"},pages:{type:"array",optional:!0,items:{$ref:"pageType"}},entries:{type:"array",items:{$ref:"entryType"}},comment:{type:"string",optional:!0}}}}}},i={creatorType:{id:"creatorType",description:"Name and version info of the log creator app.",type:"object",properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string",optional:!0}}}},r={browserType:{id:"browserType",description:"Name and version info of used browser.",type:"object",optional:!0,properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string",optional:!0}}}},a={pageType:{id:"pageType",description:"Exported web page",optional:!0,properties:{startedDateTime:{type:"string",format:"date-time",pattern:t},id:{type:"string",unique:!0},title:{type:"string"},pageTimings:{$ref:"pageTimingsType"},comment:{type:"string",optional:!0}}}},o={pageTimingsType:{id:"pageTimingsType",description:"Timing info about page load",properties:{onContentLoad:{type:"number",optional:!0,min:-1},onLoad:{type:"number",optional:!0,min:-1},comment:{type:"string",optional:!0}}}},s={entryType:{id:"entryType",description:"Request and Response related info",optional:!0,properties:{pageref:{type:"string",optional:!0},startedDateTime:{type:"string",format:"date-time",pattern:t},time:{type:"number",min:0},request:{$ref:"requestType"},response:{$ref:"responseType"},cache:{$ref:"cacheType"},timings:{$ref:"timingsType"},serverIPAddress:{type:"string",optional:!0},connection:{type:"string",optional:!0},comment:{type:"string",optional:!0}}}},l={requestType:{id:"requestType",description:"Monitored request",properties:{method:{type:"string"},url:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookieType"}},headers:{type:"array",items:{$ref:"recordType"}},queryString:{type:"array",items:{$ref:"recordType"}},postData:{$ref:"postDataType"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string",optional:!0}}}},c={recordType:{id:"recordType",description:"Helper name-value pair structure.",properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string",optional:!0}}}},u={responseType:{id:"responseType",description:"Monitored Response.",properties:{status:{type:"integer"},statusText:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookieType"}},headers:{type:"array",items:{$ref:"recordType"}},content:{$ref:"contentType"},redirectURL:{type:"string"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string",optional:!0}}}},p={postDataType:{id:"postDataType",description:"Posted data info.",optional:!0,properties:{mimeType:{type:"string"},text:{type:"string",optional:!0},params:{type:"array",optional:!0,properties:{name:{type:"string"},value:{type:"string",optional:!0},fileName:{type:"string",optional:!0},contentType:{type:"string",optional:!0},comment:{type:"string",optional:!0}}},comment:{type:"string",optional:!0}}}},d={contentType:{id:"contentType",description:"Response content",properties:{size:{type:"integer"},compression:{type:"integer",optional:!0},mimeType:{type:"string"},text:{type:"string",optional:!0},encoding:{type:"string",optional:!0},comment:{type:"string",optional:!0}}}},h={cacheType:{id:"cacheType",description:"Info about a response coming from the cache.",properties:{beforeRequest:{$ref:"cacheEntryType"},afterRequest:{$ref:"cacheEntryType"},comment:{type:"string",optional:!0}}}},f={cacheEntryType:{id:"cacheEntryType",optional:!0,description:"Info about cache entry.",properties:{expires:{type:"string",optional:"true"},lastAccess:{type:"string"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string",optional:!0}}}},g={timingsType:{id:"timingsType",description:"Info about request-response timing.",properties:{dns:{type:"number",optional:!0,min:-1},connect:{type:"number",optional:!0,min:-1},blocked:{type:"number",optional:!0,min:-1},send:{type:"number",min:-1},wait:{type:"number",min:-1},receive:{type:"number",min:-1},ssl:{type:"number",optional:!0,min:-1},comment:{type:"string",optional:!0}}}};e.prototype={registerType:function(){for(var e=function(e,t){for(var n in t)t.hasOwnProperty(n)&&"prototype"!==n&&(e[n]=t[n])},t=this,n=0;n<arguments.length;n+=1)e(t,arguments[n])}};var m=new e;return m.registerType(n,i,r,a,o,s,l,c,u,p,d,h,f,g),m}),define("nls/harModel",{root:{validationType:"HAR Validation",validationSumTimeError:"Sum of request timings doesn't correspond to the total value: %S (request.time: %S vs. sum: %S), request#: %S, parent page: %S",validationNegativeTimeError:"Negative time is not allowed: %S, request#: %S, parent page: %S"}}),define("preview/harModel",["core/lib","preview/jsonSchema","preview/ref","preview/harSchema","core/cookies","core/trace","i18n!nls/harModel"],function(e,t,n,i,r,a,o){function s(){this.input=null}function l(){var e={};for(var t in this)"toJSON"!==t&&(e[t]=this[t]);return this.text?(e.text=Array.prototype.map.call(this.text,function(e){var t=e.charCodeAt(0);if(t>=32&&127>t||10===t||13===t)return e.charAt(0);for(var n=t.toString(16).toUpperCase();n.length<4;)n="0"+n;return"\\u"+n}).join(""),e):e}return s.prototype={append:function(t){if(!t)return void a.error("HarModel.append; Trying to append null input!");if(t.log.entries.sort(function(t,n){var i=e.parseISO8601(t.startedDateTime),r=e.parseISO8601(n.startedDateTime);return r>i?-1:i>r?1:0}),this.input){if(!t.log.pages)return a.error("Import of additional data without a page is not yet supported."),null;for(var n=0;n<t.log.pages.length;n++)this.importPage(t.log.pages[n],t.log.entries)}else this.input=e.cloneJSON(t);return this.input},getPages:function(){return this.input&&this.input.log.pages?this.input.log.pages:[]},getFirstPage:function(){var e=this.getPages();return e.length>0?e[0]:null},getPageEntries:function(e){return s.getPageEntries(this.input,e)},getAllEntries:function(e){return this.input?this.input.log.entries:[]},getParentPage:function(e){return s.getParentPage(this.input,e)},importPage:function(e,t){var n=this.getUniquePageID(e.id),i=e.id;e.id=n,this.input.log.pages.push(e);for(var r=0;r<t.length;r++){var a=t[r];a.pageref===i&&(a.pageref=n,this.input.log.entries.push(a))}},getUniquePageID:function(e){for(var t=this.input.log.pages,n={},i=0;i<t.length;i++)n[t[i].id]=!0;if(!n[e])return e;for(var r=1;;){var a=e+r;if(!n[a])return a;r++}},toJSON:function(e){if(e||(e=this.input),!e)return"";for(var t=this.input.log.entries,n=0;n<t.length;n++){var i=t[n];i.response.content.text&&(i.response.content.toJSON=l)}var r=JSON.stringify(this.input,null,"	"),a=r.replace(/\\\\u/g,"\\u");return a}},s.parse=function(e,r){var o=e;try{"string"==typeof e&&(o=jQuery.parseJSON(e))}catch(s){throw a.exception("HarModel.parse; EXCEPTION",s),{errors:[{message:"Failed to parse JSON",property:"JSON evaluation"}]}}if(!r)return o;var l=n.resolveJson(i),c=t.validate(o,l.logType);if(c.valid)return this.validateRequestTimings(o),o;throw c},s.getPageEntries=function(e,t){var n=[],i=e.log.entries;if(!i)return n;for(var r=0;r<i.length;r++){var a=i[r];a.pageref||t||n.push(a),t&&a.pageref===t.id&&n.push(a)}return n},s.getParentPage=function(e,t){var n=e.log.pages;if(!n)return null;for(var i=0;i<n.length;i++)if(n[i].id===t.pageref)return n[i];return null},s.validateRequestTimings=function(t){for(var n=[],i=t.log.entries,r=0;r<i.length;r++){var a=i[r],s=a.timings;if(s.blocked<-1||s.connect<-1||s.dns<-1||s.receive<-1||s.send<-1||s.wait<-1){var l=e.formatString(o.validationNegativeTimeError,a.request.url,r,a.pageref);n.push({input:t,file:a,message:l,property:o.validationType})}}if(n.length)throw{errors:n,input:t}},s.isCachedEntry=function(e){var t=e.response,n=Math.max(0,t.bodySize);return 304===t.status||0===n&&t.content&&t.content.size>0},s.getEntrySize=function(e){var t=e.response.bodySize;return t&&-1!==t?t:e.response.content.size},s.getEntryUncompressedSize=function(e){return Math.max(0,e.response.content.size)||Math.max(0,e.response.bodySize)},s.getEntryTransferredSize=function(e){return 304===e.response.status?0:Math.max(0,e.response.bodySize)},s.Loader={getLoadOptions:function(t){var n=e.getURLParameter("baseUrl",t);n&&"/"!==n[n.length-1]&&(n+="/");var i=e.getURLParameter("callback",t),r=e.getURLParameters("path",t);r=r.concat(e.getURLParameters("har",t));var a=e.getURLParameters("inputUrl",t).concat(e.getHashParameters("inputUrl",t));return a=a.concat(e.getURLParameters("harp",t).concat(e.getHashParameters("harp",t))),n&&(r=r.map(function(e){return n+e}),a=a.concat(r),r=[]),{callbackName:i,baseUrl:n,hars:r,harps:a}},run:function(e,t){var n=this.getLoadOptions(window.location.href);this.loadArchives(n.hars,n.harps,n.callbackName,e,t)},loadExample:function(e,t){var n=document.location.href,i=n.indexOf("?");document.location=n.substr(0,i)+"?path="+e,r.setCookie("timeline",!0),r.setCookie("stats",!0)},loadArchives:function(e,t,n,i,r){if(e=e||[],t=t||[],!e.length&&!t.length)return!1;var a=!1,o=e.shift();if(o||(a=!0,o=t.shift()),!o)return!1;n||(n="onInputData");var s={url:o,context:this,dataType:"json",success:function(a){if(i&&i(a),e.length+t.length>0){var o=this;setTimeout(function(){o.loadArchives(e,t,n,i,r)},300)}},error:r};return a&&(s.dataType="jsonp",s.jsonp="callback",s.jsonpCallback=n),$.ajax(s),!0},load:function(e,t,n,i,r,a){function o(t){e.appendPreview&&e.appendPreview(t),r&&r.call(e,t)}function s(t,n,i){e.onLoadError&&e.onLoadError(t,n,i),a&&a.call(e,t,n,i)}var l=[],c=[];return n?c.push(t):l.push(t),this.loadArchives(l,c,i,o,s)}},s}),define("tabs/homeTab",["domplate/domplate","domplate/tabView","core/lib","core/cookies","core/trace","i18n!nls/homeTab","text!tabs/homeTab.html","preview/harModel"],function(e,t,n,i,r,a,o,s){function l(){}var c=e.DIV;return l.prototype=n.extend(t.Tab.prototype,{id:"Home",label:a.homeTabLabel,bodyTag:c({"class":"homeBody"}),onUpdateBody:function(e,t){t=this.bodyTag.replace({},t),t.innerHTML=o.replace("@HAR_SPEC_URL@",e.harSpecURL,"g"),$("#appendPreview").click(n.bindFixed(this.onAppendPreview,this)),$(".linkAbout").click(n.bind(this.onAbout,this));var r=$("#content");r.bind("dragenter",n.bind(n.cancelEvent,n)),r.bind("dragover",n.bind(n.cancelEvent,n)),r.bind("drop",n.bind(this.onDrop,this)),this.validateNode=$("#validate");var a=i.getCookie("validate");a&&this.validateNode.prop("checked","false"===a?!1:!0),this.validateNode.change(n.bind(this.onValidationChange,this)),$(".example").click(n.bind(this.onLoadExample,this))},onAppendPreview:function(e){e||(e=$("#sourceEditor").val()),e&&this.tabView.appendPreview(e)},onAbout:function(){this.tabView.selectTabByName("About")},onValidationChange:function(){var e=this.validateNode.prop("checked");i.setCookie("validate",e)},onLoadExample:function(e){var t=n.fixEvent(e),r=t.target.getAttribute("path"),a=document.location.href,o=a.indexOf("?");document.location=a.substr(0,o)+"?path="+r,i.setCookie("timeline",!0),i.setCookie("stats",!0)},onDrop:function(e){var t=n.fixEvent(e);n.cancelEvent(t);try{this.handleDrop(e.originalEvent.dataTransfer)}catch(i){r.exception("HomeTab.onDrop EXCEPTION",i)}},handleDrop:function(e){if(!e)return!1;var t=e.files;if(t)for(var i=0;i<t.length;i++){var r=t[i],a=n.getFileExtension(r.name);if("har"===a.toLowerCase()){var o=this,s=this.getFileReader(r,function(e){e&&o.onAppendPreview(e)});s()}}},getFileReader:function(e,t){return function n(){if("undefined"!=typeof e.getAsText)return void t(e.getAsText(""));if("undefined"!=typeof FileReader){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsText(e)}}},loadInProgress:function(e,t){$("#sourceEditor").val(e?t?t:a.loadingHar:"")}}),l}),define("nls/harViewer",{root:{aboutTabLabel:"About",schemaTabLabel:"Schema"}}),define("tabs/aboutTab",["domplate/domplate","domplate/tabView","core/lib","i18n!nls/harViewer"],function(e,t,n,i){function r(){}var a=e.A,o=e.DIV,s=e.SPAN;return r.prototype={id:"About",label:i.aboutTabLabel,tabHeaderTag:a({"class":"$tab.id\\Tab tab",view:"$tab.id",_repObject:"$tab"},"$tab.label",s("&nbsp;"),s({"class":"version"},"$tab.tabView.version")),bodyTag:o({"class":"aboutBody"}),onUpdateBody:function(e,t){var i=this;t=this.bodyTag.replace({},t),require(["text!tabs/aboutTab.html"],function(r){r=r.replace("@VERSION@",e.version,"g"),r=r.replace("@HAR_SPEC_URL@",e.harSpecURL,"g"),t.innerHTML=r,$(".linkSchema").click(n.bind(i.onSchema,i))})},onSchema:function(){this.tabView.selectTabByName("Schema")}},r}),define("nls/previewTab",{root:{previewTabLabel:"Preview",showTimelineButton:"Show Page Timeline",hideTimelineButton:"Hide Page Timeline",showTimelineTooltip:"Show/hide statistic preview for selected pages in the timeline.",showStatsButton:"Show Statistics",hideStatsButton:"Hide Statistics",showStatsTooltip:"Show/hide page timeline.",clearButton:"Clear",clearTooltip:"Remove all HAR logs from the viewer",downloadTooltip:"Download all current data in one HAR file.",downloadError:"Failed to save HAR data",menuShowHARSource:"Show HAR Source"}}),define("domplate/popupMenu",["domplate/domplate","core/lib","core/trace"],function(e,t,n){function i(e){if(!e.element){e.getItems&&(e.items=e.getItems()),"-"===e.items[0]&&e.items.shift(),"-"===e.items[e.items.length-1]&&e.items.pop();var n=t.getBody(document);e.element=d.tag.append({object:e},n,d)}t.append(this,e),"string"==typeof this.element?(this.id=this.element,this.element=$(this.id)):this.id&&(this.element.id=this.id),this.elementStyle=this.element.style,this.isVisible=!1,this.handleMouseDown=t.bind(this.handleMouseDown,this),this.handleMouseOver=t.bind(this.handleMouseOver,this),this.handleMouseOut=t.bind(this.handleMouseOut,this),this.handleWindowMouseDown=t.bind(this.handleWindowMouseDown,this)}var r=e.domplate,a=e.A,o=e.DIV,s=e.FOR,l=e.SPAN,c=e.TAG,u={controllers:[],controllerContext:{label:"controller context"},initialize:function(e){this.controllers=[],this.controllerContext=e||this.controllerContext},shutdown:function(){this.removeControllers()},addController:function(){for(var e,n=0;e=arguments[n];n++){var i=e[2];e[2]=t.bind(i,this),e[3]=i,this.controllers.push(e),t.addEventListener.apply(this,e)}},removeController:function(){for(var e,n=0;e=arguments[n];n++)for(var i,r=0;i=this.controllers[r];r++)e[0]===i[0]&&e[1]===i[1]&&e[2]===i[3]&&t.removeEventListener.apply(this,i)},removeControllers:function(){for(var e,n=0;e=this.controllers[n];n++)t.removeEventListener.apply(this,e)}},p={"class":"$item.className",type:"$item.type",value:"$item.value",_command:"$item.command"};t.isIE6&&(p.href="javascript:void(0)");var d=r({tag:o({"class":"popupMenu popupMenuShadow"},o({"class":"popupMenuContent popupMenuShadowContent"},s("item","$object.items|memberIterator",c("$item.tag",{item:"$item"})))),itemTag:a(p,"$item.label"),checkBoxTag:a(t.extend(p,{checked:"$item.checked"}),"$item.label"),radioButtonTag:a(t.extend(p,{selected:"$item.selected"}),"$item.label"),groupTag:a(t.extend(p,{child:"$item.child"}),"$item.label"),shortcutTag:a(p,"$item.label",l({"class":"popupMenuShortcutKey"},"$item.key")),separatorTag:l({"class":"popupMenuSeparator"}),memberIterator:function(e){for(var n=[],i=0,r=e.length;r>i;i++){var a=e[i];if("string"!=typeof a||0!==a.indexOf("-")){a=t.extend(a,{}),a.type=a.type||"",a.value=a.value||"";var o=a.type;a.tag=this.itemTag;var s=a.className||"";s+="popupMenuOption ","checkbox"===o?(s+="popupMenuCheckBox ",a.tag=this.checkBoxTag):"radio"===o?(s+="popupMenuRadioButton ",a.tag=this.radioButtonTag):"group"===o?(s+="popupMenuGroup ",a.tag=this.groupTag):"shortcut"===o&&(s+="popupMenuShortcut ",a.tag=this.shortcutTag),a.checked?s+="popupMenuChecked ":a.selected&&(s+="popupMenuRadioSelected "),a.disabled&&(s+="popupMenuDisabled "),a.className=s,a.label=a.label,n.push(a)}else n.push({tag:this.separatorTag})}return n}}),h={};return i.prototype=t.extend(u,{initialize:function(){u.initialize.call(this),this.addController([this.element,"mousedown",this.handleMouseDown],[this.element,"mouseover",this.handleMouseOver])},destroy:function(){this.hide(),this.parentMenu&&(this.parentMenu.childMenu=null),this.element.parentNode.removeChild(this.element),this.element=null,this.elementStyle=null,this.parentMenu=null,this.parentTarget=null},shutdown:function(){u.shutdown.call(this)},showPopup:function(e){var n=t.isIE6?1:-4,i=t.getElementBox(e),r={top:0,left:0};this.show(i.left+n-r.left,i.top+i.height-5-r.top)},show:function(e,n){if(this.initialize(),!this.isVisible){if(e=e||0,n=n||0,this.parentMenu){var i=this.parentMenu.childMenu;i&&i!==this&&i.destroy(),this.parentMenu.childMenu=this}else t.addEventListener(document,"mousedown",this.handleWindowMouseDown);this.elementStyle.display="block",this.elementStyle.visibility="hidden";var r=t.getWindowSize();e=Math.min(e,r.width-this.element.clientWidth-10),e=Math.max(e,0),n=Math.min(n,r.height-this.element.clientHeight-10),n=Math.max(n,0),this.elementStyle.left=e+"px",this.elementStyle.top=n+"px",this.elementStyle.visibility="visible",this.isVisible=!0,t.isFunction(this.onShow)&&this.onShow.apply(this,arguments)}},hide:function(){this.clearHideTimeout(),this.clearShowChildTimeout(),this.isVisible&&(this.elementStyle.display="none",this.childMenu&&(this.childMenu.destroy(),this.childMenu=null),this.parentTarget&&t.removeClass(this.parentTarget,"popupMenuGroupSelected"),this.isVisible=!1,this.shutdown(),t.isFunction(this.onHide)&&this.onHide.apply(this,arguments))},showChildMenu:function(e){var n=e.getAttribute("child"),r=this;this.showChildTimeout=window.setTimeout(function(){var a=t.getElementBox(e),o=h.hasOwnProperty(n)?h[n]:{element:$(n)},s=new i(t.extend(o,{parentMenu:r,parentTarget:e})),l=t.isIE6?-1:-6;s.show(a.left+a.width+l,a.top-6),t.setClass(e,"popupMenuGroupSelected")},350)},clearHideTimeout:function(){this.hideTimeout&&(window.clearTimeout(this.hideTimeout),delete this.hideTimeout)},clearShowChildTimeout:function(){this.showChildTimeout&&(window.clearTimeout(this.showChildTimeout),this.showChildTimeout=null)},handleMouseDown:function(e){t.cancelEvent(e,!0);for(var n=this;n.parentMenu;)n=n.parentMenu;var i=e.target||e.srcElement;if(i=t.getAncestorByClass(i,"popupMenuOption"),!i||t.hasClass(i,"popupMenuGroup"))return!1;if(i&&!t.hasClass(i,"popupMenuDisabled")){var r=i.getAttribute("type");if("checkbox"===r){var a=i.getAttribute("value"),o=t.hasClass(i,"popupMenuChecked");o?(t.removeClass(i,"popupMenuChecked"),i.setAttribute("checked","")):(t.setClass(i,"popupMenuChecked"),i.setAttribute("checked","true")),t.isFunction(this.onCheck)&&this.onCheck.call(this,i,a,!o)}if("radiobutton"===r){for(var s=t.getElementsByClass(i.parentNode,"popupMenuRadioSelected"),l=i.getAttribute("group"),c=0,u=s.length;u>c;c++){var p=s[c];p.getAttribute("group")===l&&(t.removeClass(p,"popupMenuRadioSelected"),p.setAttribute("selected",""))}t.setClass(i,"popupMenuRadioSelected"),i.setAttribute("selected","true")}var d=null,h=i.command;t.isFunction(h)?d=h:"string"==typeof h&&(d=this[h]);var f=!0;d&&(f=d.call(this,i)!==!1),f&&n.hide()}return!1},handleWindowMouseDown:function(e){var n=e.target||e.srcElement;n=t.getAncestorByClass(n,"popupMenu"),n||(t.removeEventListener(document,"mousedown",this.handleWindowMouseDown),this.destroy())},handleMouseOver:function(e){this.clearHideTimeout(),this.clearShowChildTimeout();var n=e.target||e.srcElement;if(n=t.getAncestorByClass(n,"popupMenuOption")){var i=this.childMenu;i&&(t.removeClass(i.parentTarget,"popupMenuGroupSelected"),i.parentTarget!==n&&i.isVisible&&(i.clearHideTimeout(),i.hideTimeout=window.setTimeout(function(){i.destroy()},300))),t.hasClass(n,"popupMenuGroup")&&this.showChildMenu(n)}}}),t.append(i,{register:function(e){h[e.id]=e},check:function(e){t.setClass(e,"popupMenuChecked"),e.setAttribute("checked","true")},uncheck:function(e){t.removeClass(e,"popupMenuChecked"),e.setAttribute("checked","")},disable:function(e){t.setClass(e,"popupMenuDisabled")},enable:function(e){t.removeClass(e,"popupMenuDisabled")}}),i}),define("domplate/toolbar",["domplate/domplate","core/lib","core/trace","domplate/popupMenu"],function(e,t,n,i){function r(){this.buttons=[]}var a=e.domplate,o=e.DIV,s=e.SPAN,l=a({tag:o({"class":"toolbar",onclick:"$onClick"}),buttonTag:s({"class":"$button|getClassName toolbarButton",title:"$button.tooltiptext",$text:"$button|hasLabel",onclick:"$button|getCommand"},"$button|getLabel"),dropDownTag:s({"class":"$button|getClassName toolbarButton dropDown",_repObject:"$button",title:"$button.tooltiptext",$text:"$button|hasLabel",onclick:"$onDropDown"},"$button|getLabel",s({"class":"arrow"})),separatorTag:s({"class":"toolbarSeparator",style:"color: gray;"},"|"),hasLabel:function(e){return e.label?!0:!1},getLabel:function(e){return e.label?e.label:""},getClassName:function(e){return e.className?e.className:""},getCommand:function(e){return e.command?e.command:function(){}},onClick:function(e){var n=$.event.fix(e||window.event);t.cancelEvent(n)},onDropDown:function(e){var n=$.event.fix(e||window.event),r=n.target,a=t.getAncestorByClass(r,"toolbarButton"),o=a.repObject.items,s=new i({id:"toolbarContextMenu",items:o});s.showPopup(a)}});return r.prototype={addButton:function(e){e.tooltiptext||(e.tooltiptext=""),this.buttons.push(e)},removeButton:function(e){for(var t=0;t<this.buttons.length;t++)if(this.buttons[t].id===e){this.buttons.splice(t,1);break}},addButtons:function(e){for(var t=0;t<e.length;t++)this.addButton(e[t])},getButton:function(e){for(var t=0;t<this.buttons.length;t++)if(this.buttons[t].id===e)return this.buttons[t]},render:function(e){if(this.buttons.length){this.element&&(e=this.element.parentNode),this.element=l.tag.replace({},e);for(var t=0;t<this.buttons.length;t++){var n=this.buttons[t],i=n.items?l.dropDownTag:l.buttonTag,r=n.tag?n.tag:i,a=r.append({button:n},this.element);n.initialize&&n.initialize(a),t<this.buttons.length-1&&l.separatorTag.append({},this.element)}return this.element}}},r}),define("nls/pageTimeline",{root:{pageLoad:"Page Load",request:"Request",requests:"Requests",pageBarTooltip:"Click to select and include in statistics preview."}}),define("tabs/pageTimeline",["domplate/domplate","core/lib","core/trace","i18n!nls/pageTimeline","preview/harModel"],function(e,t,n,i,r){function a(){this.listeners=[],this.element=null,this.maxElapsedTime=-1,this.lastSelectedBar=null}var o=e.domplate,s=e.DIV,l=e.FOR,c=e.PRE,u=e.SPAN,p=e.TABLE,d=e.TAG,h=e.TBODY,f=e.TD,g=e.TR,m={isSelected:function(e){return t.hasClass(e,"selected")},toggle:function(e){t.toggleClass(e,"selected")},select:function(e){this.isSelected(e)||t.setClass(e,"selected")},unselect:function(e){this.isSelected(e)&&t.removeClass(e,"selected")},getSelection:function(e){for(var n=[],i=t.getElementsByClass(e,"pageBar"),r=0;r<i.length;r++){var a=i[r];this.isSelected(a)&&n.push(a.page)}return n},unselectAll:function(e,n){for(var i=t.getElementsByClass(e,"pageBar"),r=0;r<i.length;r++)n!==i[r]&&this.unselect(i[r])}};return a.prototype=o({graphCols:l("page","$input|getPages",f({"class":"pageTimelineCol"},s({"class":"pageBar",_input:"$input",_page:"$page",title:i.pageBarTooltip,style:"height: $page|getHeight\\px",onmousemove:"$onMouseMove",onclick:"$onClick"}))),pageGraph:p({"class":"pageTimelineTable",cellpadding:0,cellspacing:0},h(g({"class":"pageTimelineRow"},d("$graphCols",{input:"$input"})))),tag:s({"class":"pageTimelineBody",style:"height: auto; display: none"},p({style:"margin: 7px;",cellpadding:0,cellspacing:0},h(g(f(d("$pageGraph",{input:"$input"}))),g(f({"class":"pageDescContainer",colspan:2}))))),getHeight:function(e){var t=1,n=e.pageTimings.onLoad;return n>0&&this.maxElapsedTime>0&&(t=Math.round(n/this.maxElapsedTime*100)),Math.max(1,t)},onClick:function(e){var n=t.fixEvent(e),i=n.target;if(t.hasClass(i,"pageBar")){var r=t.isControlClick(n),a=t.isShiftClick(n),o=t.getAncestorByClass(i,"pageTimelineRow");r||a||m.unselectAll(o,i),m.toggle(i),this.selectionChanged()}},onMouseMove:function(e){var n=t.fixEvent(e),i=n.target;if(t.hasClass(i,"pageBar")&&this.highlightedPage!==i.page){this.highlightedPage=i.page;var r=t.getElementByClass(this.element,"pageDescContainer");a.Desc.render(r,i)}},getPages:function(e){return e.log.pages?e.log.pages:[]},getPageBar:function(e){if(this.element)for(var n=t.getElementByClass(this.element,"pageTimelineTable"),i=n.firstChild.firstChild.firstChild;i;){if(i.firstChild.page===e)return i.firstChild;i=i.nextSibling}},recalcLayout:function(){this.maxElapsedTime=0;for(var e=this.maxElapsedTime,n=t.getElementsByClass(this.element,"pageBar"),i=0;i<n.length;i++){var r=n[i].page,a=r.pageTimings.onLoad;a>0&&this.maxElapsedTime<a&&(this.maxElapsedTime=a)}if(e!==this.maxElapsedTime)for(var o=0;o<n.length;o++)n[o].style.height=this.getHeight(n[o].page)+"px"},updateDesc:function(){if(this.isVisible()&&!this.highlightedPage){var e=t.getElementByClass(this.element,"pageBar");e&&t.fireEvent(e,"mousemove")}},addListener:function(e){this.listeners.push(e)},removeListener:function(e){t.remove(this.listeners,e)},selectionChanged:function(){var e=this.getSelection();t.dispatch(this.listeners,"onSelectionChange",[e])},removeSelection:function(){if(this.element){var e=t.getElementByClass(this.element,"pageTimelineRow");m.unselectAll(e),this.selectionChanged()}},getSelection:function(){if(!this.isVisible())return[];var e=t.getElementByClass(this.element,"pageTimelineRow");return m.getSelection(e)},show:function(e){this.isVisible()||(e?$(this.element).slideDown():this.element.style.display="block",t.setClass(this.element,"opened"),this.updateDesc())},hide:function(e){this.isVisible()&&(e?$(this.element).slideUp():this.element.style.display="none",t.removeClass(this.element,"opened"),this.removeSelection())},isVisible:function(){return t.hasClass(this.element,"opened")},toggle:function(e){this.isVisible()?this.hide(e):this.show(e)},render:function(e){return this.element=this.tag.replace({input:{log:{pages:[]}}},e,this),this.recalcLayout(),this.element},append:function(e,n){if(this.element){var i=t.getElementByClass(this.element,"pageTimelineRow");this.graphCols.insertCols({input:e},i,this),this.recalcLayout(),this.updateDesc()}}}),a.Desc=o({tag:s({"class":"pageDescBox"},s({"class":"connector"}),s({"class":"desc"},u({"class":"summary"},"$object|getSummary"),u({"class":"time"},"$object.page|getTime"),u({"class":"title"},"$object.page|getTitle"),c({"class":"comment"},"$object.page|getComment"))),getSummary:function(e){var n="",a=e.page.pageTimings.onLoad;a>0&&(n+=i.pageLoad+": "+t.formatTime(a.toFixed(2))+", ");var o=r.getPageEntries(e.input,e.page),s=o.length;return n+=s+" "+(1===s?i.request:i.requests)},getTime:function(e){var n=t.parseISO8601(e.startedDateTime),i=new Date(n);return i.toLocaleString()},getTitle:function(e){return e.title},getComment:function(e){return e.comment?e.comment:""},render:function(e,n){var i={input:n.input,page:n.page},r=this.tag.replace({object:i},e),a=t.$(r,"connector");return a.style.marginLeft=n.parentNode.offsetLeft+"px",r}}),a}),define("core/StatsService",["core/lib","preview/harModel"],function(e,t){function n(e){return"number"==typeof e?Math.max(0,e):0}function i(e){this.model=e}var r={"text/javascript":1,"text/jscript":1,"application/javascript":1,"application/x-javascript":1,"text/js":1},a={"text/plain":1,"text/html":1},o={"text/css":1},s={"image/png":1,"image/jpeg":1,"image/gif":1},l={"application/x-shockwave-flash":1};return i.prototype={forEachPageEntries:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i?this.model.getPageEntries(i):this.model.getAllEntries();t(r,i,e)}},calcTimingsTotalsForEntries:function(t,i){if(!e.isArray(t))throw new Error("entries must be an array");i=i||{blocked:0,dns:0,ssl:0,connect:0,send:0,wait:0,receive:0};for(var r=0;r<t.length;r++){var a=t[r];a.timings&&(i.blocked+=n(a.timings.blocked),i.dns+=n(a.timings.dns),i.ssl+=n(a.timings.ssl),i.connect+=n(a.timings.connect),i.send+=n(a.timings.send),i.wait+=n(a.timings.wait),i.receive+=n(a.timings.receive),a.timings.ssl>0&&(i.ssl-=a.timings.ssl))}return i},calcTimingsTotalsForPages:function(e){var t,n=this;return this.forEachPageEntries(e,function(e){t=n.calcTimingsTotalsForEntries(e,t)}),t},calcContentTotalsForEntries:function(t,i){if(!e.isArray(t))throw new Error("entries must be an array");i=i||{html:{resBodySize:0,count:0},js:{resBodySize:0,count:0},css:{resBodySize:0,count:0},image:{resBodySize:0,count:0},flash:{resBodySize:0,count:0},other:{resBodySize:0,count:0}};for(var c=0;c<t.length;c++){var u=t[c];if(u.timings){var p=u.response,d=n(p.bodySize),h=p.content.mimeType,f=h?h.match(/^([^;]+)/)[1]:null;h=f?f:p.content.mimeType,a[h]?(i.html.resBodySize+=d,i.html.count++):r[h]?(i.js.resBodySize+=d,i.js.count++):o[h]?(i.css.resBodySize+=d,i.css.count++):s[h]?(i.image.resBodySize+=d,i.image.count++):l[h]?(i.flash.resBodySize+=d,i.flash.count++):(i.other.resBodySize+=d,i.other.count++)}}return i},calcContentTotalsForPages:function(e){var t,n=this;return this.forEachPageEntries(e,function(e){t=n.calcContentTotalsForEntries(e,t)}),t},calcTrafficTotalsForEntries:function(t,i){if(!e.isArray(t))throw new Error("entries must be an array");i=i||{request:{headersSize:0,bodySize:0},response:{headersSize:0,bodySize:0}};for(var r=0;r<t.length;r++){var a=t[r];if(a.timings){var o=a.response;i.request.headersSize+=n(a.request.headersSize),i.request.bodySize+=n(a.request.bodySize),i.response.headersSize+=n(a.response.headersSize),i.response.bodySize+=n(o.bodySize)}}return i},calcTrafficTotalsForPages:function(e){var t,n=this;return this.forEachPageEntries(e,function(e){t=n.calcTrafficTotalsForEntries(e,t)}),t},calcCacheTotalsForEntries:function(i,r){if(!e.isArray(i))throw new Error("entries must be an array");r=r||{partial:{count:0,resBodySize:0},cached:{count:0,resBodySize:0},downloaded:{count:0,resBodySize:0}};for(var a=0;a<i.length;a++){var o=i[a],s=o.response,l=n(s.bodySize);if(206===o.response.status)r.partial.resBodySize+=l,r.partial.count++;else if(t.isCachedEntry(o)){var c=t.getEntryUncompressedSize(o);r.cached.resBodySize+=c,r.cached.count++}else l>0&&(r.downloaded.resBodySize+=l,r.downloaded.count++)}return r},calcCacheTotalsForPages:function(e){var t,n=this;return this.forEachPageEntries(e,function(e){t=n.calcCacheTotalsForEntries(e,t)}),t}},i}),define("nls/harStats",{root:{pieLabelDNS:"DNS",pieLabelSSL:"SSL/TLS",pieLabelConnect:"Connect",pieLabelBlocked:"Blocked",pieLabelSend:"Send",pieLabelWait:"Wait",pieLabelReceive:"Receive",pieLabelHTMLText:"HTML/Text",pieLabelJavaScript:"JavaScript",pieLabelCSS:"CSS",pieLabelImage:"Image",pieLabelFlash:"Flash",pieLabelOthers:"Others",pieLabelHeadersSent:"Headers Sent",pieLabelBodiesSent:"Bodies Sent",pieLabelHeadersReceived:"Headers Received",pieLabelBodiesReceived:"Bodies Received",pieLabelDownloaded:"Downloaded",pieLabelPartial:"Partial",pieLabelFromCache:"From Cache"}}),define("domplate/infoTip",["domplate/domplate","core/lib","core/trace"],function(e,t,n){var i=e.domplate,r=e.DIV,a=t.extend({listeners:[],maxWidth:100,maxHeight:80,infoTipMargin:10,infoTipWindowPadding:25,tags:i({infoTipTag:r({"class":"infoTip"})}),initialize:function(){var e=$("body");return e.bind("mouseover",t.bind(this.onMouseMove,this)),
e.bind("mouseout",t.bind(this.onMouseOut,this)),e.bind("mousemove",t.bind(this.onMouseMove,this)),this.infoTip=this.tags.infoTipTag.append({},t.getBody(document))},showInfoTip:function(e,n,i,r,a,o){var s=t.getOverflowParent(n),l=i+(s?s.scrollLeft:0),c=t.dispatch2(this.listeners,"showInfoTip",[e,n,l,r,a,o]);if(c){var u=e.ownerDocument.documentElement,p=u.clientWidth,d=u.clientHeight;i+e.offsetWidth+this.infoTipMargin>p-this.infoTipWindowPadding?(e.style.left="auto",e.style.right=p-i+this.infoTipMargin+"px"):(e.style.left=i+this.infoTipMargin+"px",e.style.right="auto"),r+e.offsetHeight+this.infoTipMargin>d?(e.style.top=Math.max(0,d-(e.offsetHeight+this.infoTipMargin))+"px",e.style.bottom="auto"):(e.style.top=r+this.infoTipMargin+"px",e.style.bottom="auto"),e.setAttribute("active","true")}else this.hideInfoTip(e)},hideInfoTip:function(e){e&&e.removeAttribute("active")},onMouseOut:function(e){e.relatedTarget||this.hideInfoTip(this.infoTip)},onMouseMove:function(e){this.infoTip.setAttribute("multiline",!1);var t=e.clientX,n=e.clientY;this.showInfoTip(this.infoTip,e.target,t,n,e.rangeParent,e.rangeOffset)},populateTimingInfoTip:function(e,t){return this.tags.colorTag.replace({rgbValue:t},e),!0},addListener:function(e){this.listeners.push(e)},removeListener:function(e){t.remove(this.listeners,e)}});return a.initialize(),a}),define("tabs/harStats",["domplate/domplate","core/lib","core/StatsService","i18n!nls/harStats","preview/harModel","domplate/infoTip"],function(e,t,n,i,r,a){function o(){}function s(){}function l(){}function c(){}function u(){}function p(e,t){this.model=e,this.timeline=t,this.timeline.addListener(this)}var d=e.domplate,h=e.DIV,f=e.FOR,g=e.SPAN,m=e.TABLE,b=e.TBODY,v=e.TD,y=e.TR,w=d({tag:h({"class":"pieLabelInfoTip"},"$text"),render:function(e,t,n){var i=e.getLabelTooltipText(t);this.tag.replace({text:i},n)}}),T=d({tag:m({"class":"pagePieTable",cellpadding:0,cellspacing:0,_repObject:"$pie"},b(y(v({"class":"pieBox",title:"$pie.title"}),v(f("item","$pie.data",h({"class":"pieLabel",_repObject:"$item"},g({"class":"box",style:"background-color: $item.color"},"&nbsp;"),g({"class":"label"},"$item.label"))))))),render:function(e,n){var i=this.tag.append({pie:e},n),r=t.$(i,"pieBox"),a=document.createElement("canvas");return a.setAttribute("class","pieGraph"),a.setAttribute("height","100"),a.setAttribute("width","100"),r.appendChild(a),i},draw:function(e,t){if(e&&e.getContext){var n=e.getContext("2d"),i=Math.min(e.width,e.height)/2,r=[e.width/2,e.height/2];n.clearRect(0,0,e.width,e.height);var a,o=0,s=t.data,l=0;for(a=0;a<s.length;a++)l+=s[a].value;if(!l)return n.beginPath(),n.moveTo(r[0],r[1]),n.arc(r[0],r[1],i,0,2*Math.PI,!1),n.closePath(),n.fillStyle="rgb(229,236,238)",n.lineStyle="lightgray",void n.fill();for(a=0;a<s.length;a++){var c=s[a].value/l;0>=c||(n.beginPath(),n.moveTo(r[0],r[1]),n.arc(r[0],r[1],i,Math.PI*(-.5+2*o),Math.PI*(-.5+2*(o+c)),!1),n.lineTo(r[0],r[1]),n.closePath(),n.fillStyle=s[a].color,n.fill(),o+=c)}}},showInfoTip:function(e,n,i,r){var a=t.getAncestorByClass(n,"pagePieTable");if(!a)return!1;var o=t.getAncestorByClass(n,"pieLabel");return o?(w.render(a.repObject,o.repObject,e),!0):void 0}});o.prototype={data:[],title:"",getLabelTooltipText:function(e){return e.label+": "+t.formatSize(e.value)},cleanUp:function(){for(var e=0;e<this.data.length;e++)this.data[e].value=0,this.data[e].count=0}},s.prototype=t.extend(o.prototype,{title:"Summary of request times.",data:[{value:0,label:i.pieLabelBlocked,color:"rgb(228, 214, 193)"},{value:0,label:i.pieLabelDNS,color:"rgb(119, 192, 203)"},{value:0,label:i.pieLabelSSL,color:"rgb(168, 196, 173)"},{value:0,label:i.pieLabelConnect,color:"rgb(179, 222, 93)"},{value:0,label:i.pieLabelSend,color:"rgb(224, 171, 157)"},{value:0,label:i.pieLabelWait,color:"rgb(163, 150, 190)"},{value:0,label:i.pieLabelReceive,color:"rgb(194, 194, 194)"}],getLabelTooltipText:function(e){return e.label+": "+t.formatTime(e.value.toFixed(2))}}),l.prototype=t.extend(o.prototype,{title:"Summary of content types.",data:[{value:0,label:i.pieLabelHTMLText,color:"rgb(174, 234, 218)"},{value:0,label:i.pieLabelJavaScript,color:"rgb(245, 230, 186)"},{value:0,label:i.pieLabelCSS,color:"rgb(212, 204, 219)"},{value:0,label:i.pieLabelImage,color:"rgb(220, 171, 181)"},{value:0,label:i.pieLabelFlash,color:"rgb(166, 156, 222)"},{value:0,label:i.pieLabelOthers,color:"rgb(229, 171, 255)"}],getLabelTooltipText:function(e){return e.count+"x "+e.label+": "+t.formatSize(e.value)}}),c.prototype=t.extend(o.prototype,{title:"Summary of sent and received bodies & headers.",data:[{value:0,label:i.pieLabelHeadersSent,color:"rgb(247, 179, 227)"},{value:0,label:i.pieLabelBodiesSent,color:"rgb(226, 160, 241)"},{value:0,label:i.pieLabelHeadersReceived,color:"rgb(166, 232, 166)"},{value:0,label:i.pieLabelBodiesReceived,color:"rgb(168, 196, 173)"}]}),u.prototype=t.extend(o.prototype,{title:"Comparison of downloaded data from the server and browser cache.",data:[{value:0,label:i.pieLabelDownloaded,color:"rgb(182, 182, 182)"},{value:0,label:i.pieLabelPartial,color:"rgb(218, 218, 218)"},{value:0,label:i.pieLabelFromCache,color:"rgb(239, 239, 239)"}],getLabelTooltipText:function(e){return e.count+"x "+e.label+": "+t.formatSize(e.value)}});var x=new s,C=new l,S=new c,L=new u;return p.prototype=d({element:null,tag:h({"class":"pageStatsBody",style:"height: auto; display: none"}),update:function(e){if(this.isVisible()){this.cleanUp(),e.length||e.push(null);var i=new n(this.model),r=i.calcTimingsTotalsForPages(e);x.data[0].value=r.blocked,x.data[1].value=r.dns,x.data[2].value=r.ssl,x.data[3].value=r.connect,x.data[4].value=r.send,x.data[5].value=r.wait,x.data[6].value=r.receive;var a=i.calcContentTotalsForPages(e);C.data[0].value=a.html.resBodySize,C.data[0].count=a.html.count,C.data[1].value=a.js.resBodySize,C.data[1].count=a.js.count,C.data[2].value=a.css.resBodySize,C.data[2].count=a.css.count,C.data[3].value=a.image.resBodySize,C.data[3].count=a.image.count,C.data[4].value=a.flash.resBodySize,C.data[4].count=a.flash.count,C.data[5].value=a.other.resBodySize,C.data[5].count=a.other.count;var o=i.calcTrafficTotalsForPages(e);S.data[0].value=o.request.headersSize,S.data[1].value=o.request.bodySize,S.data[2].value=o.response.headersSize,S.data[3].value=o.response.bodySize;var s=i.calcCacheTotalsForPages(e);L.data[1].value=s.partial.resBodySize,L.data[1].count=s.partial.count,L.data[2].value=s.cached.resBodySize,L.data[2].count=s.cached.count,L.data[0].value=s.downloaded.resBodySize,L.data[0].count=s.downloaded.count,T.draw(t.$(this.timingPie,"pieGraph"),x),T.draw(t.$(this.contentPie,"pieGraph"),C),T.draw(t.$(this.trafficPie,"pieGraph"),S),T.draw(t.$(this.cachePie,"pieGraph"),L)}},cleanUp:function(){x.cleanUp(),C.cleanUp(),S.cleanUp(),L.cleanUp()},showInfoTip:function(e,t,n,i){return T.showInfoTip(e,t,n,i)},onSelectionChange:function(e){this.update(e)},show:function(e){if(!this.isVisible()){a.addListener(this),t.setClass(this.element,"opened"),e?$(this.element).slideDown():this.element.style.display="block";var n=this.timeline.getSelection();this.update(n)}},hide:function(e){this.isVisible()&&(a.removeListener(this),t.removeClass(this.element,"opened"),e?$(this.element).slideUp():this.element.style.display="none")},isVisible:function(){return t.hasClass(this.element,"opened")},toggle:function(e){this.isVisible()?this.hide(e):this.show(e)},render:function(e){return this.element=this.tag.replace({},e),this.timingPie=T.render(x,this.element),this.contentPie=T.render(C,this.element),this.trafficPie=T.render(S,this.element),this.cachePie=T.render(L,this.element),this.cachePie.style.borderRight=0,this.element}}),p}),define("nls/requestList",{root:{summaryFromCache:"From Cache",resourceFromCache:"Resource from cache",uncompressed:"Uncompressed",menuBreakLayout:"Break Timeline Layout",menuOpenRequestInWindow:"Open Request in New Window",menuOpenResponseInWindow:"Open Response in New Window",request:"Request",requests:"Requests",tooltipSize:"%S (%S bytes)",tooltipZippedSize:"%S (%S bytes) - compressed",tooltipUnzippedSize:"%S (%S bytes) - uncompressed",unknownSize:"Unknown size","request.Started":"Request start time since the beginning","request.phases.label":"Request phases start and elapsed time relative to the request start:","request.phase.Resolving":"DNS Lookup","request.phase.Connecting":"Connecting","request.phase.Blocking":"Blocking","request.phase.Sending":"Sending","request.phase.Waiting":"Waiting","request.phase.Receiving":"Receiving","request.timings.label":"Event timing relative to the request start:",ContentLoad:"DOM Loaded",WindowLoad:"Page Loaded","page.event.Load":"Page Loaded",menuBreakTimeline:"Break Timeline Layout",menuOpenRequest:"Open Request in New Window",menuOpenResponse:"Open Response in New Window"}}),define("nls/requestBody",{root:{RequestHeaders:"Request Headers",ResponseHeaders:"Response Headers",RequestCookies:"Request Cookies",ResponseCookies:"Response Cookies",URLParameters:"Params",Headers:"Headers",Post:"Post",Put:"Put",Get:"Get",Cookies:"Cookies",Response:"Response",Highlighted:"Highlighted",Image:"Img (from HAR)",ImageTitle:"Uses image payload data from the HAR",ExternalImage:"Img (from URL)",ExternalImageTitle:"Creates an IMG tag whose src is the request URL",Cache:"Cache",HTML:"HTML",JSON:"JSON",XML:"XML",DataURL:"Data URL"}}),define("domplate/domTree",["domplate/domplate","core/lib","core/trace"],function(e,t,n){function i(e){this.input=e,this.view=$.isXMLDoc(e)?new o(e):new a(e)}function r(e){if("string"==typeof e)return!1;try{for(var t in e)return!0}catch(n){}return!1}function a(e){this.input=e}function o(e){this.input=e}function s(e){try{return e.toString()}catch(t){return""}}function l(e){var t=s(e),n=/\[object (.*?)\]/,i=n.exec(t);return i?i[1]:t}var c=e.domplate,u=e.DIV,p=e.FOR,d=e.SPAN,h=e.TABLE,f=e.TAG,g=e.TBODY,m=e.TD,b=e.TR;i.prototype=c({tag:h({"class":"domTable",cellpadding:0,cellspacing:0,onclick:"$onClick"},g(p("member","$object|memberIterator",f("$member|getRowTag",{member:"$member"})))),rowTag:b({"class":"memberRow $member.open $member.type\\Row $member|hasChildren",$hasChildren:"$member|hasChildren",_repObject:"$member",level:"$member.level"},m({"class":"memberLabelCell",style:"padding-left: $member.indent\\px"},d({"class":"memberLabel $member.type\\Label"},"$member.name")),m({"class":"memberValueCell"},f("$member.tag",{object:"$member|getValue"}))),loop:p("member","$members",f("$member|getRowTag",{member:"$member"})),hasChildren:function(e){return e.hasChildren?"hasChildren":""},memberIterator:function(e){return this.view.getMembers(e)},getValue:function(e){return e.value},getRowTag:function(e){return this.rowTag},onClick:function(e){var n=t.fixEvent(e);if(t.isLeftClick(n)){var i=t.getAncestorByClass(n.target,"memberRow"),r=t.getAncestorByClass(n.target,"memberLabel");r&&t.hasClass(i,"hasChildren")&&this.toggleRow(i)}},toggleRow:function(e,n){if(e){var i=parseInt(e.getAttribute("level"),10);if(!n||!t.hasClass(e,"opened"))if(t.hasClass(e,"opened")){t.removeClass(e,"opened");for(var r=e.parentNode,a=e.nextSibling;a&&!(parseInt(a.getAttribute("level"),10)<=i);a=e.nextSibling)r.removeChild(a)}else{t.setClass(e,"opened");var o=e.repObject;if(o){if(!o.hasChildren)return;var s=this.view.getMembers(o.value,i+1);s&&this.loop.insertRows({members:s},e)}}}},append:function(e){this.element=this.tag.append({object:this.input},e,this),this.element.repObject=this;var n=t.isArray(this.input)&&this.input.length>2,i=this.element.firstChild.firstChild;i&&!n&&this.toggleRow(i)},expandRow:function(e){var t=this.getRow(e);return this.toggleRow(t,!0),t},getRow:function(e){if(this.element){for(var n=t.getElementsByClass(this.element,"memberRow"),i=0;i<n.length;i++){var r=n[i];if(r.repObject.value===e)return r}return null}}}),i.createMember=function(e,t,n,r,a){var o=i.Reps.getRep(n);return{name:t,value:n,type:e,rowClass:"memberRow-"+e,open:"",level:a,indent:16*a,hasChildren:r,tag:o.tag}};var v=u({"class":"objectBox objectBox-$className"});a.prototype.getMembers=function(e,t){t||(t=0);var n=[];for(var r in e){var a=e[r];"function"!=typeof a&&n.push(i.createMember("dom",r,a,this.hasChildren(a),t))}return n},a.prototype.hasChildren=function(e){return r(e)&&"object"==typeof e},o.prototype.getMembers=function(e,t){t||(t=0);var n=o.nodeAttributes(e).map(function(e){return i.createMember("dom","@"+e.name,e.value,!1,t)}),r=o.nodeChildElements(e).map(function(e){var n=this.hasChildren(e);return i.createMember("dom",e.tagName,n?e:e.firstChild.nodeValue,n,t)},this),a=n;return 0===r.length&&e.firstChild&&a.push(i.createMember("dom","value",e.firstChild.nodeValue,!1,t)),a.concat(r)},o.prototype.hasChildren=function(e){return o.hasChildren(e)},o.hasChildren=function(e){var t=o.nodeAttributes(e),n=o.nodeChildElements(e);return t.length>0||n.length>0},o.nodeChildElements=function(e,t){t="number"===t?t:null;for(var n=[],i=e.firstChild;i;){if(Node.ELEMENT_NODE===i.nodeType&&(n.push(i),null!==t&&n.length>=t))return n;i=i.nextSibling}return n},o.nodeAttributes=function(e,t){t="number"===t?t:null;var n=[];if(!e.attributes)return n;for(var i=e.attributes.length;--i>=0;)if(n.push(e.attributes[i]),null!==t&&n.length>=t)return n;return n},i.Reps={reps:[],registerRep:function(){this.reps.push.apply(this.reps,arguments)},getRep:function(e){var t=typeof e;"object"===t&&e instanceof String&&(t="string");for(var r=0;r<this.reps.length;++r){var a=this.reps[r];try{if(a.supportsObject(e,t))return a}catch(o){n.exception("domTree.getRep; ",o)}}return i.Rep}},i.Rep=c({tag:v("$object|getTitle"),className:"object",getTitle:function(e){return l(e)},getTooltip:function(e){return null},supportsObject:function(e,t){return!1}}),i.Reps.Null=c(i.Rep,{tag:v("null"),className:"null",supportsObject:function(e,t){return null===e}}),i.Reps.Number=c(i.Rep,{tag:v("$object"),className:"number",supportsObject:function(e,t){return"boolean"===t||"number"===t}}),i.Reps.String=c(i.Rep,{tag:v("$object"),className:"string",supportsObject:function(e,t){return"string"===t}}),i.Reps.Arr=c(i.Rep,{tag:v("$object|getTitle"),className:"array",supportsObject:function(e,n){return t.isArray(e)},getTitle:function(e){return"Array ["+e.length+"]"}});var y=c(i.prototype,{createMember:function(e,t,n,r){var a=i.createMember(e,t,n,!1,r);return 0===r&&(a.name="",a.type="tableCell"),a}});return i.Reps.Tree=c(i.Rep,{tag:v(f("$object|getTag",{object:"$object|getRoot"})),className:"tree",getTag:function(e){return y.tag},getRoot:function(e){return[e]},supportsObject:function(e,t){return"object"===t}}),i.Reps.registerRep(i.Reps.Null,i.Reps.Number,i.Reps.String,i.Reps.Arr),i}),define("core/dragdrop",["./object","./events"],function(e,t){function n(n,i){this.element=n,this.handle=n,this.callbacks=i,this.cursorStartPos=null,this.cursorLastPos=null,this.dragging=!1,this.onDragStart=e.bind(this.onDragStart,this),this.onDragOver=e.bind(this.onDragOver,this),this.onDrop=e.bind(this.onDrop,this),t.addEventListener(this.element,"mousedown",this.onDragStart,!1),this.active=!0}function i(e,t){this.x=e,this.y=t,this.Add=function(e){var t=new i(this.x,this.y);return null!==e&&void 0!==e&&(isNaN(e.x)||(t.x+=e.x),isNaN(e.y)||(t.y+=e.y)),t},this.Subtract=function(e){var t=new i(this.x,this.y);return null!==e&&void 0!==e&&(isNaN(e.x)||(t.x-=e.x),isNaN(e.y)||(t.y-=e.y)),t},this.Bound=function(e,t){var n=this.Max(e);return n.Min(t)},this.Check=function(){var e=new i(this.x,this.y);return isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0),e},this.Apply=function(e){"string"==typeof e&&(e=document.getElementById(e)),e&&(isNaN(this.x)||(e.style.left=this.x+"px"),isNaN(this.y)||(e.style.top=this.y+"px"))}}function r(e){return isNaN(window.scrollX)?new i(e.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,e.clientY+document.documentElement.scrollTop+document.body.scrollTop):new i(e.clientX+window.scrollX,e.clientY+window.scrollY)}var a={onDragStart:function(e){var n=t.fixEvent(e);this.dragging||(this.callbacks.onDragStart&&this.callbacks.onDragStart(this),this.dragging=!0,this.cursorStartPos=r(n),this.cursorLastPos=this.cursorStartPos,t.addEventListener(this.element.ownerDocument,"mousemove",this.onDragOver,!1),t.addEventListener(this.element.ownerDocument,"mouseup",this.onDrop,!1),t.cancelEvent(n))},onDragOver:function(e){if(this.dragging){var n=t.fixEvent(e);t.cancelEvent(n);var i=r(n);i=i.Subtract(this.cursorStartPos),(this.cursorLastPos.x!==i.x||this.cursorLastPos.y!==i.y)&&"function"==typeof this.callbacks.onDragOver&&(this.callbacks.onDragOver(i,this),this.cursorLastPos=i)}},onDrop:function(e){if(this.dragging){var n=t.fixEvent(e);t.cancelEvent(n),this.dragStop()}},dragStop:function(){this.dragging&&(t.removeEventListener(this.element.ownerDocument,"mousemove",this.onDragOver,!1),t.removeEventListener(this.element.ownerDocument,"mouseup",this.onDrop,!1),this.cursorStartPos=null,this.cursorLastPos=null,null!==this.callbacks.onDrop&&this.callbacks.onDrop(this),this.dragging=!1)},destroy:function(){t.removeEventListener(this.element,"mousedown",this.onDragStart,!1),this.active=!1,this.dragging&&this.dragStop()}};n.prototype=a;var o={};return o.Tracker=n,o}),define("syntax-highlighter/shCore",["exports"],function(e){var t,n;if(n)throw Error("can't load XRegExp twice in the same frame");if(function(){function e(e,i){if(!n.isRegExp(e))throw TypeError("type RegExp expected");var r=e._xregexp;return e=n(e.source,t(e)+(i||"")),r&&(e._xregexp={source:r.source,captureNames:r.captureNames?r.captureNames.slice(0):null}),e}function t(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function i(e,t,n,i){var r,a,o,s=c.length;l=!0;try{for(;s--;)if(o=c[s],n&o.scope&&(!o.trigger||o.trigger.call(i))&&(o.pattern.lastIndex=t,a=o.pattern.exec(e),a&&a.index===t)){r={output:o.handler.call(i,a,n),match:a};break}}catch(u){throw u}finally{l=!1}return r}function r(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}n=function(t,r){var a,s,c,p,d,h=[],f=n.OUTSIDE_CLASS,m=0;if(n.isRegExp(t)){if(void 0!==r)throw TypeError("can't supply flags when constructing one RegExp from another");return e(t)}if(l)throw Error("can't call the XRegExp constructor within token definition functions");for(r=r||"",a={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return r.indexOf(e)>-1},setFlag:function(e){r+=e}};m<t.length;)s=i(t,m,f,a),s?(h.push(s.output),m+=s.match[0].length||1):(c=u.exec.call(g[f],t.slice(m)))?(h.push(c[0]),m+=c[0].length):(p=t.charAt(m),"["===p?f=n.INSIDE_CLASS:"]"===p&&(f=n.OUTSIDE_CLASS),h.push(p),m++);return d=RegExp(h.join(""),u.replace.call(r,o,"")),d._xregexp={source:t,captureNames:a.hasNamedCapture?a.captureNames:null},d},n.version="1.5.0",n.INSIDE_CLASS=1,n.OUTSIDE_CLASS=2;var a=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,o=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,s=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,l=!1,c=[],u={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},p=void 0===u.exec.call(/()??/,"")[1],d=function(){var e=/^/g;return u.test.call(e,""),!e.lastIndex}(),h=function(){var e=/x/g;return u.replace.call("x",e,""),!e.lastIndex}(),f=void 0!==RegExp.prototype.sticky,g={};g[n.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/,g[n.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,n.addToken=function(t,i,r,a){c.push({pattern:e(t,"g"+(f?"y":"")),handler:i,scope:r||n.OUTSIDE_CLASS,trigger:a||null})},n.cache=function(e,t){var i=e+"/"+(t||"");return n.cache[i]||(n.cache[i]=n(e,t))},n.copyAsGlobal=function(t){return e(t,"g")},n.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n.execAt=function(t,n,i,r){n=e(n,"g"+(r&&f?"y":"")),n.lastIndex=i=i||0;var a=n.exec(t);return r?a&&a.index===i?a:null:a},n.freezeTokens=function(){n.addToken=function(){throw Error("can't run addToken after freezeTokens")}},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.iterate=function(t,n,i,r){for(var a,o=e(n,"g"),s=-1;a=o.exec(t);)i.call(r,a,++s,t,o),o.lastIndex===a.index&&o.lastIndex++;n.global&&(n.lastIndex=0)},n.matchChain=function(t,i){return function r(t,a){var o,s=i[a].regex?i[a]:{regex:i[a]},l=e(s.regex,"g"),c=[];for(o=0;o<t.length;o++)n.iterate(t[o],l,function(e){c.push(s.backref?e[s.backref]||"":e[0])});return a!==i.length-1&&c.length?r(c,a+1):c}([t],0)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.exec=function(e){var n,i,a=u.exec.apply(this,arguments);if(a){if(!p&&a.length>1&&r(a,"")>-1&&(i=RegExp(this.source,u.replace.call(t(this),"g","")),u.replace.call(e.slice(a.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(a[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var o=1;o<a.length;o++)n=this._xregexp.captureNames[o-1],n&&(a[n]=a[o]);!d&&this.global&&!a[0].length&&this.lastIndex>a.index&&this.lastIndex--}return a},d||(RegExp.prototype.test=function(e){var t=u.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}),String.prototype.match=function(e){if(n.isRegExp(e)||(e=RegExp(e)),e.global){var t=u.match.apply(this,arguments);return e.lastIndex=0,t}return e.exec(this)},String.prototype.replace=function(e,t){var i,o,s,l=n.isRegExp(e);return l&&"string"==typeof t.valueOf()&&-1===t.indexOf("${")&&h?u.replace.apply(this,arguments):(l?e._xregexp&&(i=e._xregexp.captureNames):e+="","function"==typeof t?o=u.replace.call(this,e,function(){if(i){arguments[0]=new String(arguments[0]);for(var n=0;n<i.length;n++)i[n]&&(arguments[0][i[n]]=arguments[n+1])}return l&&e.global&&(e.lastIndex=arguments[arguments.length-2]+arguments[0].length),t.apply(null,arguments)}):(s=this+"",o=u.replace.call(s,e,function(){var e=arguments;return u.replace.call(t,a,function(t,n,a){if(!n){var o=+a;return o<=e.length-3?e[o]:(o=i?r(i,a):-1,o>-1?e[o+1]:t)}switch(n){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var s="";if(n=+n,!n)return t;for(;n>e.length-3;)s=String.prototype.slice.call(n,-1)+s,n=Math.floor(n/10);return(n?e[n]||"":"$")+s}})})),l&&e.global&&(e.lastIndex=0),o)},String.prototype.split=function(e,t){if(!n.isRegExp(e))return u.split.apply(this,arguments);var i,r,a=this+"",o=[],s=0;if(void 0===t||0>+t)t=1/0;else if(t=Math.floor(+t),!t)return[];for(e=n.copyAsGlobal(e);(i=e.exec(a))&&!(e.lastIndex>s&&(o.push(a.slice(s,i.index)),i.length>1&&i.index<a.length&&Array.prototype.push.apply(o,i.slice(1)),r=i[0].length,s=e.lastIndex,o.length>=t));)e.lastIndex===i.index&&e.lastIndex++;return s===a.length?(!u.test.call(e,"")||r)&&o.push(""):o.push(a.slice(s)),o.length>t?o.slice(0,t):o},n.addToken(/\(\?#[^)]*\)/,function(e){return u.test.call(s,e.input.slice(e.index+e[0].length))?"":"(?:)"}),n.addToken(/\((?!\?)/,function(){return this.captureNames.push(null),"("}),n.addToken(/\(\?<([$\w]+)>/,function(e){return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),n.addToken(/\\k<([\w$]+)>/,function(e){var t=r(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]}),n.addToken(/\[\^?]/,function(e){return"[]"===e[0]?"\\b\\B":"[\\s\\S]"}),n.addToken(/^\(\?([imsx]+)\)/,function(e){return this.setFlag(e[1]),""}),n.addToken(/(?:\s+|#.*)+/,function(e){return u.test.call(s,e.input.slice(e.index+e[0].length))?"":"(?:)"},n.OUTSIDE_CLASS,function(){return this.hasFlag("x")}),n.addToken(/\./,function(){return"[\\s\\S]"},n.OUTSIDE_CLASS,function(){return this.hasFlag("s")})}(),"undefined"!=typeof e?e.XRegExp=n:null,"undefined"==typeof i)var i=function(){function e(e,t){return-1!=e.className.indexOf(t)}function i(t,n){e(t,n)||(t.className+=" "+n)}function r(e,t){e.className=e.className.replace(t,"")}function a(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function o(e){return e.split("\n")}function s(e){var t="highlighter_";return 0==e.indexOf(t)?e:t+e}function l(e){return N.vars.highlighters[s(e)]}function c(e){return document.getElementById(s(e))}function u(e){N.vars.highlighters[s(e.id)]=e}function p(e,t,n){if(null==e)return null;var i,r,a=1!=n?e.childNodes:[e.parentNode],o={"#":"id",".":"className"}[t.substr(0,1)]||"nodeName";if(i="nodeName"!=o?t.substr(1):t.toUpperCase(),-1!=(e[o]||"").indexOf(i))return e;for(var s=0;a&&s<a.length&&null==r;s++)r=p(a[s],t,n);return r}function d(e,t){return p(e,t,!0)}function h(e,t,n){n=Math.max(n||0,0);for(var i=n;i<e.length;i++)if(e[i]==t)return i;return-1}function f(e){return(e||"")+Math.round(1e6*Math.random()).toString()}function g(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i}function m(e){var t={"true":!0,"false":!1}[e];return null==t?e:t}function b(e,t,n,i,r){var a=(screen.width-n)/2,o=(screen.height-i)/2;r+=", left="+a+", top="+o+", width="+n+", height="+i,r=r.replace(/^,/,"");var s=window.open(e,t,r);return s.focus(),s}function v(e,t,n,i){function r(e){e=e||window.event,e.target||(e.target=e.srcElement,e.preventDefault=function(){this.returnValue=!1}),n.call(i||window,e)}e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}function y(e){window.alert(N.config.strings.alert+e)}function w(e,t){var n=N.vars.discoveredBrushes,i=null;if(null==n){n={};for(var r in N.brushes){var a=N.brushes[r],o=a.aliases;if(null!=o){a.brushName=r.toLowerCase();for(var s=0;s<o.length;s++)n[o[s]]=r}}N.vars.discoveredBrushes=n}return i=N.brushes[n[e]],null==i&&0!=t&&y(N.config.strings.noBrush+e),i}function T(e,t){for(var n=o(e),i=0;i<n.length;i++)n[i]=t(n[i],i);return n.join("\n")}function x(e){return e.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,"")}function C(e){for(var t,i={},r=new n("^\\[(?<values>(.*?))\\]$"),a=new n("(?<name>[\\w-]+)\\s*:\\s*(?<value>[\\w-%#]+|\\[.*?\\]|\".*?\"|'.*?')\\s*;?","g");null!=(t=a.exec(e));){var o=t.value.replace(/^['"]|['"]$/g,"");if(null!=o&&r.test(o)){var s=r.exec(o);o=s.values.length>0?s.values.split(/\s*,\s*/):[]}i[t.name]=o}return i}function S(e,t){return null==e||0==e.length||"\n"==e?e:(e=e.replace(/</g,"&lt;"),e=e.replace(/ {2,}/g,function(e){for(var t="",n=0;n<e.length-1;n++)t+=N.config.space;return t+" "}),null!=t&&(e=T(e,function(e){if(0==e.length)return"";var n="";return e=e.replace(/^(&nbsp;| )+/,function(e){return n=e,""}),0==e.length?n:n+'<code class="'+t+'">'+e+"</code>"})),e)}function L(e,t){for(var n=e.toString();n.length<t;)n="0"+n;return n}function E(e,t){for(var n="",i=0;t>i;i++)n+=" ";return e.replace(/\t/g,n)}function B(e,t){function n(e,t,n){return e.substr(0,t)+r.substr(0,n)+e.substr(t+1,e.length)}for(var i=(o(e),"	"),r="",a=0;50>a;a++)r+="                    ";return e=T(e,function(e){if(-1==e.indexOf(i))return e;for(var r=0;-1!=(r=e.indexOf(i));){var a=t-r%t;e=n(e,r,a)}return e})}function R(e){var t=/<br\s*\/?>|&lt;br\s*\/?&gt;/gi;return 1==N.config.bloggerMode&&(e=e.replace(t,"\n")),1==N.config.stripBrs&&(e=e.replace(t,"")),e}function I(e){return e.replace(/^\s+|\s+$/g,"")}function k(e){for(var t=o(R(e)),n=(new Array,/^\s*/),i=1e3,r=0;r<t.length&&i>0;r++){var a=t[r];if(0!=I(a).length){var s=n.exec(a);if(null==s)return e;i=Math.min(s[0].length,i)}}if(i>0)for(var r=0;r<t.length;r++)t[r]=t[r].substr(i);return t.join("\n")}function O(e,t){return e.index<t.index?-1:e.index>t.index?1:e.length<t.length?-1:e.length>t.length?1:0}function $(e,t){function n(e,t){return e[0]}for(var i=null,r=[],a=t.func?t.func:n;null!=(i=t.regex.exec(e));){var o=a(i,t);"string"==typeof o&&(o=[new N.Match(o,i.index,t.css)]),r=r.concat(o)}return r}function A(e){var t=/(.*)((&gt;|&lt;).*)/;return e.replace(N.regexLib.url,function(e){var n="",i=null;return(i=t.exec(e))&&(e=i[1],n=i[2]),'<a href="'+e+'">'+e+"</a>"+n})}function D(){for(var e=document.getElementsByTagName("script"),t=[],n=0;n<e.length;n++)"syntaxhighlighter"==e[n].type&&t.push(e[n]);return t}function P(e){var t="<![CDATA[",n="]]>",i=I(e),r=!1,a=t.length,o=n.length;0==i.indexOf(t)&&(i=i.substring(a),r=!0);var s=i.length;return i.indexOf(n)==s-o&&(i=i.substring(0,s-o),r=!0),r?i:e}function M(e){var t,n=e.target,a=d(n,".syntaxhighlighter"),o=d(n,".container"),s=document.createElement("textarea");if(o&&a&&!p(o,"textarea")){t=l(a.id),i(a,"source");for(var c=o.childNodes,u=[],h=0;h<c.length;h++)u.push(c[h].innerText||c[h].textContent);u=u.join("\r"),s.appendChild(document.createTextNode(u)),o.appendChild(s),s.focus(),s.select(),v(s,"blur",function(e){s.parentNode.removeChild(s),r(a,"source")})}}"undefined"!=typeof t&&"undefined"==typeof n&&(n=t("XRegExp").XRegExp);var N={defaults:{"class-name":"","first-line":1,"pad-line-numbers":!1,highlight:null,title:null,"smart-tabs":!0,"tab-size":4,gutter:!0,toolbar:!0,"quick-code":!0,collapse:!1,"auto-links":!0,light:!1,"html-script":!1},config:{space:"&nbsp;",useScriptTags:!0,bloggerMode:!1,stripBrs:!1,tagName:"pre",strings:{expandSource:"expand source",help:"?",alert:"SyntaxHighlighter\n\n",noBrush:"Can't find brush for: ",brushNotHtmlScript:"Brush wasn't configured for html-script option: ",aboutDialog:"@ABOUT@"}},vars:{discoveredBrushes:null,highlighters:{}},brushes:{},regexLib:{multiLineCComments:/\/\*[\s\S]*?\*\//gm,singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"([^\\"\n]|\\.)*"/g,singleQuotedString:/'([^\\'\n]|\\.)*'/g,multiLineDoubleQuotedString:new n('"([^\\\\"]|\\\\.)*"',"gs"),multiLineSingleQuotedString:new n("'([^\\\\']|\\\\.)*'","gs"),xmlComments:/(&lt;|<)!--[\s\S]*?--(&gt;|>)/gm,url:/\w+:\/\/[\w-.\/?%&=:@;]*/g,phpScriptTags:{left:/(&lt;|<)\?=?/g,right:/\?(&gt;|>)/g},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}},toolbar:{getHtml:function(e){function t(e,t){return N.toolbar.getButtonHtml(e,t,N.config.strings[t])}for(var n='<div class="toolbar">',i=N.toolbar.items,r=i.list,a=0;a<r.length;a++)n+=(i[r[a]].getHtml||t)(e,r[a]);return n+="</div>"},getButtonHtml:function(e,t,n){return'<span><a href="#" class="toolbar_item command_'+t+" "+t+'">'+n+"</a></span>"},handler:function(e){function t(e){var t=new RegExp(e+"_(\\w+)"),n=t.exec(i);return n?n[1]:null}var n=e.target,i=n.className||"",r=l(d(n,".syntaxhighlighter").id),a=t("command");r&&a&&N.toolbar.items[a].execute(r),e.preventDefault()},items:{list:["expandSource","help"],expandSource:{getHtml:function(e){if(1!=e.getParam("collapse"))return"";var t=e.getParam("title");return N.toolbar.getButtonHtml(e,"expandSource",t?t:N.config.strings.expandSource)},execute:function(e){var t=c(e.id);r(t,"collapsed")}},help:{execute:function(e){var t=b("","_blank",500,250,"scrollbars=0"),n=t.document;n.write(N.config.strings.aboutDialog),n.close(),t.focus()}}}},findElements:function(e,t){var n=t?[t]:a(document.getElementsByTagName(N.config.tagName)),i=N.config,r=[];if(i.useScriptTags&&(n=n.concat(D())),0===n.length)return r;for(var o=0;o<n.length;o++){var s={target:n[o],params:g(e,C(n[o].className))};null!=s.params.brush&&r.push(s)}return r},highlight:function(e,t){var n=this.findElements(e,t),i="innerHTML",r=null,a=N.config;if(0!==n.length)for(var o=0;o<n.length;o++){var s,t=n[o],l=t.target,c=t.params,u=c.brush;if(null!=u){if("true"==c["html-script"]||1==N.defaults["html-script"])r=new N.HtmlScript(u),u="htmlscript";else{var p=w(u);if(!p)continue;r=new p}s=l[i],a.useScriptTags&&(s=P(s)),""!=(l.title||"")&&(c.title=l.title),c.brush=u,r.init(c),t=r.getDiv(s),""!=(l.id||"")&&(t.id=l.id),l.parentNode.replaceChild(t,l)}}},all:function(e){v(window,"load",function(){N.highlight(e)})}};return N.Match=function(e,t,n){this.value=e,this.index=t,this.length=e.length,this.css=n,this.brushName=null},N.Match.prototype.toString=function(){return this.value},N.HtmlScript=function(e){function t(e,t){for(var n=0;n<e.length;n++)e[n].index+=t}function n(e,n){
for(var a,o=e.code,s=[],l=i.regexList,c=e.index+e.left.length,u=i.htmlScript,p=0;p<l.length;p++)a=$(o,l[p]),t(a,c),s=s.concat(a);null!=u.left&&null!=e.left&&(a=$(e.left,u.left),t(a,e.index),s=s.concat(a)),null!=u.right&&null!=e.right&&(a=$(e.right,u.right),t(a,e.index+e[0].lastIndexOf(e.right)),s=s.concat(a));for(var d=0;d<s.length;d++)s[d].brushName=r.brushName;return s}var i,r=w(e),a=new N.brushes.Xml,o=this,s="getDiv getHtml init".split(" ");if(null!=r){i=new r;for(var l=0;l<s.length;l++)(function(){var e=s[l];o[e]=function(){return a[e].apply(a,arguments)}})();return null==i.htmlScript?void y(N.config.strings.brushNotHtmlScript+e):void a.regexList.push({regex:i.htmlScript.code,func:n})}},N.Highlighter=function(){},N.Highlighter.prototype={getParam:function(e,t){var n=this.params[e];return m(null==n?t:n)},create:function(e){return document.createElement(e)},findMatches:function(e,t){var n=[];if(null!=e)for(var i=0;i<e.length;i++)"object"==typeof e[i]&&(n=n.concat($(t,e[i])));return this.removeNestedMatches(n.sort(O))},removeNestedMatches:function(e){for(var t=0;t<e.length;t++)if(null!==e[t])for(var n=e[t],i=n.index+n.length,r=t+1;r<e.length&&null!==e[t];r++){var a=e[r];if(null!==a){if(a.index>i)break;a.index==n.index&&a.length>n.length?e[t]=null:a.index>=n.index&&a.index<i&&(e[r]=null)}}return e},figureOutLineNumbers:function(e){var t=[],n=parseInt(this.getParam("first-line"));return T(e,function(e,i){t.push(i+n)}),t},isLineHighlighted:function(e){var t=this.getParam("highlight",[]);return"object"!=typeof t&&null==t.push&&(t=[t]),-1!=h(t,e.toString())},getLineHtml:function(e,t,n){var i=["line","number"+t,"index"+e,"alt"+(t%2==0?1:2).toString()];return this.isLineHighlighted(t)&&i.push("highlighted"),0==t&&i.push("break"),'<div class="'+i.join(" ")+'">'+n+"</div>"},getLineNumbersHtml:function(e,t){var n="",i=o(e).length,r=parseInt(this.getParam("first-line")),a=this.getParam("pad-line-numbers");1==a?a=(r+i-1).toString().length:1==isNaN(a)&&(a=0);for(var s=0;i>s;s++){var l=t?t[s]:r+s,e=0==l?N.config.space:L(l,a);n+=this.getLineHtml(s,l,e)}return n},getCodeLinesHtml:function(e,t){e=I(e);for(var n=o(e),i=(this.getParam("pad-line-numbers"),parseInt(this.getParam("first-line"))),e="",r=this.getParam("brush"),a=0;a<n.length;a++){var s=n[a],l=/^(&nbsp;|\s)+/.exec(s),c=null,u=t?t[a]:i+a;null!=l&&(c=l[0].toString(),s=s.substr(c.length),c=c.replace(" ",N.config.space)),s=I(s),0==s.length&&(s=N.config.space),e+=this.getLineHtml(a,u,(null!=c?'<code class="'+r+' spaces">'+c+"</code>":"")+s)}return e},getTitleHtml:function(e){return e?"<caption>"+e+"</caption>":""},getMatchesHtml:function(e,t){function n(e){var t=e?e.brushName||a:a;return t?t+" ":""}for(var i=0,r="",a=this.getParam("brush",""),o=0;o<t.length;o++){var s,l=t[o];null!==l&&0!==l.length&&(s=n(l),r+=S(e.substr(i,l.index-i),s+"plain")+S(l.value,s+l.css),i=l.index+l.length+(l.offset||0))}return r+=S(e.substr(i),n()+"plain")},getHtml:function(e){var t,n,i,r="",a=["syntaxhighlighter"];return 1==this.getParam("light")&&(this.params.toolbar=this.params.gutter=!1),className="syntaxhighlighter",1==this.getParam("collapse")&&a.push("collapsed"),0==(gutter=this.getParam("gutter"))&&a.push("nogutter"),a.push(this.getParam("class-name")),a.push(this.getParam("brush")),e=x(e).replace(/\r/g," "),t=this.getParam("tab-size"),e=1==this.getParam("smart-tabs")?B(e,t):E(e,t),e=k(e),gutter&&(i=this.figureOutLineNumbers(e)),n=this.findMatches(this.regexList,e),r=this.getMatchesHtml(e,n),r=this.getCodeLinesHtml(r,i),this.getParam("auto-links")&&(r=A(r)),"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.match(/MSIE/)&&a.push("ie"),r='<div id="'+s(this.id)+'" class="'+a.join(" ")+'">'+(this.getParam("toolbar")?N.toolbar.getHtml(this):"")+'<table border="0" cellpadding="0" cellspacing="0">'+this.getTitleHtml(this.getParam("title"))+"<tbody><tr>"+(gutter?'<td class="gutter">'+this.getLineNumbersHtml(e)+"</td>":"")+'<td class="code"><div class="container">'+r+"</div></td></tr></tbody></table></div>"},getDiv:function(e){null===e&&(e=""),this.code=e;var t=this.create("div");return t.innerHTML=this.getHtml(e),this.getParam("toolbar")&&v(p(t,".toolbar"),"click",N.toolbar.handler),this.getParam("quick-code")&&v(p(t,".code"),"dblclick",M),t},init:function(e){this.id=f(),u(this),this.params=g(N.defaults,e||{}),1==this.getParam("light")&&(this.params.toolbar=this.params.gutter=!1)},getKeywords:function(e){return e=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"|"),"\\b(?:"+e+")\\b"},forHtmlScript:function(e){this.htmlScript={left:{regex:e.left,css:"script"},right:{regex:e.right,css:"script"},code:new n("(?<left>"+e.left.source+")(?<code>.*?)(?<right>"+e.right.source+")","sgi")}}},N}();"undefined"!=typeof e?e.SyntaxHighlighter=i:null,function(){function n(){var e="break case catch continue default delete do else false  for function if in instanceof new null return super switch this throw true try typeof var while with",t=i.regexLib;this.regexList=[{regex:t.multiLineDoubleQuotedString,css:"string"},{regex:t.multiLineSingleQuotedString,css:"string"},{regex:t.singleLineCComments,css:"comments"},{regex:t.multiLineCComments,css:"comments"},{regex:/\s*#.*/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(e),"gm"),css:"keyword"}],this.forHtmlScript(t.scriptScriptTags)}"undefined"!=typeof t?i=t("shCore").SyntaxHighlighter:null,n.prototype=new i.Highlighter,n.aliases=["js","jscript","javascript"],i.brushes.JScript=n,"undefined"!=typeof e?e.Brush=n:null}(),function(){function n(){function e(e){return"\\b([a-z_]|)"+e.replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b"}function t(e){return"\\b"+e.replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b"}var n="ascent azimuth background-attachment background-color background-image background-position background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index",r="above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero default digits disc dotted double embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow",a="[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif";this.regexList=[{regex:i.regexLib.multiLineCComments,css:"comments"},{regex:i.regexLib.doubleQuotedString,css:"string"},{regex:i.regexLib.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)/g,css:"value"},{regex:/!important/g,css:"color3"},{regex:new RegExp(e(n),"gm"),css:"keyword"},{regex:new RegExp(t(r),"g"),css:"value"},{regex:new RegExp(this.getKeywords(a),"g"),css:"color1"}],this.forHtmlScript({left:/(&lt;|<)\s*style.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*style\s*(&gt;|>)/gi})}"undefined"!=typeof t?i=t("shCore").SyntaxHighlighter:null,n.prototype=new i.Highlighter,n.aliases=["css"],i.brushes.CSS=n,"undefined"!=typeof e?e.Brush=n:null}(),function(){function r(){function e(e,t){var r=i.Match,a=e[0],o=new n("(&lt;|<)[\\s\\/\\?]*(?<name>[:\\w-\\.]+)","xg").exec(a),s=[];if(null!=e.attributes)for(var l,c=new n("(?<name> [\\w:\\-\\.]+)\\s*=\\s*(?<value> \".*?\"|'.*?'|\\w+)","xg");null!=(l=c.exec(a));)s.push(new r(l.name,e.index+l.index,"color1")),s.push(new r(l.value,e.index+l.index+l[0].indexOf(l.value),"string"));return null!=o&&s.push(new r(o.name,e.index+o[0].indexOf(o.name),"keyword")),s}this.regexList=[{regex:new n("(\\&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](\\&gt;|>)","gm"),css:"color2"},{regex:i.regexLib.xmlComments,css:"comments"},{regex:new n("(&lt;|<)[\\s\\/\\?]*(\\w+)(?<attributes>.*?)[\\s\\/\\?]*(&gt;|>)","sg"),func:e}]}"undefined"!=typeof t?i=t("shCore").SyntaxHighlighter:null,r.prototype=new i.Highlighter,r.aliases=["xml","xhtml","xslt","html"],i.brushes.Xml=r,"undefined"!=typeof e?e.Brush=r:null}()}),define("preview/requestBody",["domplate/domplate","i18n!nls/requestBody","core/lib","core/cookies","domplate/tabView","domplate/domTree","core/dragdrop","syntax-highlighter/shCore"],function(e,t,n,i,r,a,o,s){function l(){}function c(e){this.file=e}function u(e){this.file=e}function p(e){this.file=e}function d(e){this.file=e}function h(e){this.file=e}function f(e){this.file=e}function g(e,n){n=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase(),this.file=e,this.id=n,this.label=t[n]}function m(e){this.file=e}function b(e){this.file=e}function v(e){this.file=e}function y(e){this.file=e}function w(e){this.file=e}function T(e){this.file=e}var x=e.domplate,C=e.DIV,S=e.FOR,L=e.IFRAME,E=e.PRE,B=e.TABLE,R=e.TBODY,I=e.TD,k=e.TR;return l.prototype=x({render:function(e,t){var n=new r("requestBody");t.response.headers.length>0&&n.appendTab(new c(t)),t.request.queryString&&t.request.queryString.length&&n.appendTab(new f(t)),l.isValidPostData(t)&&n.appendTab(new g(t,t.request.method)),d.canShowFile(t)&&n.appendTab(new d(t)),h.canShowFile(t)&&n.appendTab(new h(t)),w.canShowFile(t)&&n.appendTab(new w(t)),T.canShowFile(t)&&n.appendTab(new T(t)),u.canShowFile(t)&&n.appendTab(new u(t)),p.canShowFile(t)&&n.appendTab(new p(t)),this.showCache(t)&&n.appendTab(new b(t)),this.showHtml(t)&&n.appendTab(new v(t)),this.showDataURL(t)&&n.appendTab(new y(t));var i=n.render(e);return n.tabs.length>0&&n.selectTabByName(n.tabs[0].id),i},showCache:function(e){return e.cache&&e.cache.afterRequest?!0:!1},showHtml:function(e){var t=e.response.content.mimeType||"",i=e.mimeType||"";return n.startsWith(t,"text/html")||n.startsWith(i,"application/xhtml+xml")},showDataURL:function(e){return 0===e.request.url.indexOf("data:")}}),l.isValidPostData=function(e){var t=e.request.postData;if(!t)return!1;var i=!n.isArray(t.params)||0===t.params.length,r=!t.text,a=i&&r;return a?["PUT","POST"].indexOf(e.request.method)>-1:!0},l.canDecode=function(e){return e?"base64"!==e?!1:"undefined"==typeof atob?!1:!0:!0},l.decode=function(e,t){return"base64"===t?atob(e):e},c.prototype=x(r.Tab.prototype,{id:"Headers",label:t.Headers,bodyTag:B({"class":"netInfoHeadersText netInfoText netInfoHeadersTable",cellpadding:0,cellspacing:0},R(k({"class":"netInfoResponseHeadersTitle"},I({colspan:2},C({"class":"netInfoHeadersGroup"},t.ResponseHeaders))),k({"class":"netInfoRequestHeadersTitle"},I({colspan:2},C({"class":"netInfoHeadersGroup"},t.RequestHeaders))))),headerDataTag:S("param","$headers",k(I({"class":"netInfoParamName"},"$param.name"),I({"class":"netInfoParamValue"},E("$param|getParamValue")))),getParamValue:function(e){return n.wrapText(e.value,!0)},onUpdateBody:function(e,t){this.file.response.headers&&this.insertHeaderRows(t,this.file.response.headers,"Headers","ResponseHeaders"),this.file.request.headers&&this.insertHeaderRows(t,this.file.request.headers,"Headers","RequestHeaders")},insertHeaderRows:function(e,t,i,r){var a=n.getElementByClass(e,"netInfo"+i+"Table"),o=n.getElementByClass(a,"netInfo"+r+"Title");t.length?(this.headerDataTag.insertRows({headers:t},o?o:e),n.removeClass(o,"collapsed")):n.setClass(o,"collapsed")}}),u.prototype=x(r.Tab.prototype,{id:"Image",label:t.Image,title:t.ImageTitle,bodyTag:C({"class":"netInfoImageText netInfoText"}),onUpdateBody:function(e,t){function i(e){var t=n.extractMimeType(e.mimeType);return"data:"+t+";base64,"+e.text}function r(e,n){var r=t.ownerDocument.createElement("img"),a=e.response.content;r.src=i(a),n.appendChild(r)}function a(e,t){var n=e.response.content,r=/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/;if(n.text.match(r)){var a=i(n);t.innerHTML="<img src="+a+">"}}var o=n.getElementByClass(t,"netInfoImageText");n.clearNode(o);var s=9===document.documentMode||10===document.documentMode;s?a(this.file,o):r(this.file,o)}}),u.isFileImage=function(e){var t=e.response.content;if(!t)return!1;var i=n.extractMimeType(t.mimeType||"");return n.startsWith(i,"image/")},u.canShowFile=function(e){var t=e.response.content;return u.isFileImage(e)&&t.text&&"base64"===t.encoding},p.prototype=x(r.Tab.prototype,{id:"ExternalImage",label:t.ExternalImage,title:t.ExternalImageTitle,bodyTag:C({"class":"netInfoExternalImageText netInfoText"}),onUpdateBody:function(e,t){var i=n.getElementByClass(t,"netInfoExternalImageText");n.clearNode(i);var r=t.ownerDocument.createElement("img");r.src=this.file.request.url,i.appendChild(r)}}),p.canShowFile=function(e){return u.isFileImage(e)},d.prototype=x(r.Tab.prototype,{id:"Response",label:t.Response,bodyTag:C({"class":"netInfoResponseText netInfoText"},E()),onUpdateBody:function(e,t){var i=n.getElementByClass(t,"netInfoResponseText"),r=i.firstChild;n.clearNode(r);var a=this.file.response.content.text;n.insertWrappedText(a,r)}}),d.canShowFile=function(e){return e.response.content.text&&e.response.content.text.length>0},h.prototype=x(r.Tab.prototype,{id:"Highlighted",label:t.Highlighted,bodyTag:C({"class":"netInfoHighlightedText netInfoText"},E({"class":"toolbar: false; brush: ",name:"code"})),onUpdateBody:function(e,t){var i=n.getElementByClass(t,"netInfoHighlightedText"),r=i.firstChild;n.clearNode(r);var a=this.file.response.content,o=a.text,c=n.extractMimeType(a.mimeType),u=h.shouldHighlightAs(c);u?(r.className+=u,o=l.decode(o,a.encoding),r.appendChild(document.createTextNode(o)),s.SyntaxHighlighter.highlight(r)):n.insertWrappedText(o,r)}}),h.canShowFile=function(e){var t=e.response.content;if(!t||!t.text)return!1;if(!l.canDecode(t.encoding))return!1;var i=n.extractMimeType(t.mimeType||"");return null!==h.shouldHighlightAs(i)},h.shouldHighlightAs=function(e){var t={javascript:["application/javascript","text/javascript","application/x-javascript","text/ecmascript","application/ecmascript","application/json"],css:["text/css"],html:["text/html","application/xhtml+xml"]};for(var n in t)if(t[n].indexOf(e)>-1)return n;return T.isXmlMimeType(e)?"xml":null},f.prototype=x(c.prototype,{id:"Params",label:t.URLParameters,bodyTag:B({"class":"netInfoParamsText netInfoText netInfoParamsTable",cellpadding:0,cellspacing:0},R()),onUpdateBody:function(e,t){if(this.file.request.queryString){var i=n.getElementByClass(t,"netInfoParamsText");this.insertHeaderRows(i,this.file.request.queryString,"Params")}}}),g.prototype=x(c.prototype,{bodyTag:C({"class":"netInfo$tab.id\\Text netInfoText"},B({"class":"netInfo$tab.id\\Table",cellpadding:0,cellspacing:0},R())),onUpdateBody:function(e,t){var i=this.file.request.postData;if(i){var r=n.getElementByClass(t,"netInfo"+this.id+"Text");"application/x-www-form-urlencoded"===i.mimeType?this.insertHeaderRows(r,i.params,this.id):n.insertWrappedText(i.text,r)}}}),m.prototype=x(c.prototype,{id:"Cookies",label:t.Cookies,bodyTag:C({"class":"netInfoCookiesText netInfoText"},B({"class":"netInfoCookiesTable",cellpadding:0,cellspacing:0},R(k({"class":"netInfoResponseCookiesTitle"},I({colspan:2},C({"class":"netInfoCookiesGroup"},t.ResponseCookies))),k({"class":"netInfoRequestCookiesTitle"},I({colspan:2},C({"class":"netInfoCookiesGroup"},t.RequestCookies)))))),onUpdateBody:function(e,t){var i=n.getElementByClass(t,"netInfoParamsText");this.file.response.cookies&&this.insertHeaderRows(i,this.file.response.cookies,"Cookies","ResponseCookies"),this.file.request.cookies&&this.insertHeaderRows(i,this.file.request.cookies,"Cookies","RequestCookies")}}),b.prototype=x(c.prototype,{id:"Cache",label:t.Cache,bodyTag:C({"class":"netInfoCacheText netInfoText"},B({"class":"netInfoCacheTable",cellpadding:0,cellspacing:0},R())),onUpdateBody:function(e,t){if(this.file.cache&&this.file.cache.afterRequest){var n=this.file.cache.afterRequest,i=[];for(var r in n)i.push({name:r,value:n[r]});this.insertHeaderRows(t,i,"Cache")}}}),v.prototype=x(c.prototype,{id:"HTML",label:t.HTML,bodyTag:C({"class":"netInfoHtmlText netInfoText"},L({"class":"netInfoHtmlPreview",onload:"$onLoad"}),C({"class":"htmlPreviewResizer"})),onUpdateBody:function(e,t){this.preview=n.getElementByClass(t,"netInfoHtmlPreview");var r=parseInt(i.getCookie("htmlPreviewHeight"),10);isNaN(r)||(this.preview.style.height=r+"px");var a=n.getElementByClass(t,"htmlPreviewResizer");this.resizer=new o.Tracker(a,{onDragStart:n.bind(this.onDragStart,this),onDragOver:n.bind(this.onDragOver,this),onDrop:n.bind(this.onDrop,this)})},onLoad:function(e){var t=n.fixEvent(e),i=n.getAncestorByClass(t.target,"tabHTMLBody").repObject;i.preview.contentWindow.document.body.innerHTML=i.file.response.content.text},onDragStart:function(e){var t=n.getBody(this.preview.ownerDocument);t.setAttribute("hResizing","true"),this.startHeight=this.preview.clientHeight},onDragOver:function(e,t){var n=this.startHeight+e.y;this.preview.style.height=n+"px",i.setCookie("htmlPreviewHeight",n)},onDrop:function(e){var t=n.getBody(this.preview.ownerDocument);t.removeAttribute("hResizing")}}),y.prototype=x(c.prototype,{id:"DataURL",label:t.DataURL,bodyTag:C({"class":"netInfoDataURLText netInfoText"}),onUpdateBody:function(e,t){var i=n.getElementByClass(t,"netInfoDataURLText"),r=this.file.request.url;if(0===r.indexOf("data:image")){var a=t.ownerDocument.createElement("img");a.src=r,i.appendChild(a)}else n.insertWrappedText(unescape(r),i)}}),w.prototype=x(r.Tab.prototype,{id:"JSON",label:t.JSON,bodyTag:C({"class":"netInfoJsonText netInfoText"}),onUpdateBody:function(e,t){n.clearNode(t.firstChild);var i=this.file.response.content;try{var r=l.decode(i.text,i.encoding),o=JSON.parse(r),s=new a(o);s.append(t)}catch(c){t.innerHTML=String(c)}}}),w.canShowFile=function(e){var t=e.response.content;if(!t||!t.text)return!1;if(!l.canDecode(t.encoding))return!1;var i=n.extractMimeType(t.mimeType||"");return["application/json"].indexOf(i)>-1},T.prototype=x(r.Tab.prototype,{id:"XML",label:t.XML,bodyTag:C({"class":"netInfoXmlText netInfoText"}),onUpdateBody:function(e,t){n.clearNode(t.firstChild);var i=this.file.response.content;try{var r=l.decode(i.text,i.encoding),o=$.parseXML(r),s=new a(o);s.append(t)}catch(c){t.innerHTML=String(c)}}}),T.isXmlMimeType=function(e){return e=n.extractMimeType(e),["text/xml","application/xml","image/svg+xml","application/atom+xml","application/xslt+xml","application/mathml+xml","application/rss+xml"].indexOf(e)>-1},T.canShowFile=function(e){var t=e.response.content;if(!t||!t.text)return!1;if(!l.canDecode(t.encoding))return!1;var i=n.extractMimeType(t.mimeType||"");return T.isXmlMimeType(i)},l}),define("preview/requestList",["domplate/domplate","core/lib","i18n!nls/requestList","preview/harModel","core/cookies","preview/requestBody","domplate/infoTip","domplate/popupMenu"],function(e,t,n,i,r,a,o,s){function l(e){this.input=e,this.pageTimings=[],this.addPageTiming({name:"onContentLoad",classes:"netContentLoadBar",description:n.ContentLoad}),this.addPageTiming({name:"onLoad",classes:"netWindowLoadBar",description:n.WindowLoad}),o.addListener(this)}function c(e){this.files=[],this.pageTimings=[],this.addFile(e)}var u=e.domplate,p=e.DIV,d=e.FOR,h=e.SPAN,f=e.TABLE,g=e.TBODY,m=e.TD,b=e.TR,v=u({tableTag:f({"class":"timeInfoTip"},g()),timingsTag:d("time","$timings",b({"class":"timeInfoTipRow",$collapsed:"$time|hideBar"},m({"class":"$time|getBarClass timeInfoTipBar",$loaded:"$time.loaded",$fromCache:"$time.fromCache"}),m({"class":"timeInfoTipCell startTime"},"$time.start|formatStartTime"),m({"class":"timeInfoTipCell elapsedTime"},"$time.elapsed|formatTime"),m("$time|getLabel"))),startTimeTag:b(m(),m("$startTime.time|formatStartTime"),m({"class":"timeInfoTipStartLabel",colspan:2},"$startTime|getLabel")),separatorTag:b({},m({"class":"timeInfoTipSeparator",colspan:4,height:"10px"},h("$label"))),eventsTag:d("event","$events",b({"class":"timeInfoTipEventRow"},m({"class":"timeInfoTipBar",align:"center"},p({"class":"$event|getPageTimingClass timeInfoTipEventBar"})),m("$event.start|formatStartTime"),m({colspan:2},"$event|getTimingLabel"))),hideBar:function(e){return!e.elapsed&&"request.phase.Blocking"===e.bar},getBarClass:function(e){var t=e.bar.substr(e.bar.lastIndexOf(".")+1);return"net"+t+"Bar"},getPageTimingClass:function(e){return e.classes?e.classes:""},formatTime:function(e){return t.formatTime(e.toFixed(2))},formatStartTime:function(e){var n=e>0,i=t.formatTime(Math.abs(e.toFixed(2)));return e?(n>0?"+":"-")+i:i},getLabel:function(e){return n[e.bar]},getTimingLabel:function(e){return e.bar},render:function(e,r,a){var o=e.input,s=r.repObject,l=i.getParentPage(o,s),c=l?t.parseISO8601(l.startedDateTime):null,u=t.parseISO8601(s.startedDateTime),p=v.tableTag.replace({},a),d={};c?d.time=u-c:d.time=u-r.phase.startTime,d.bar="request.Started",this.startTimeTag.insertRows({startTime:d},p.firstChild),this.separatorTag.insertRows({label:n["request.phases.label"]},p.firstChild);var h=0,f=[],g=s.timings.blocked,m=s.timings.dns,b=(s.timings.ssl,s.timings.connect),y=s.timings.send,w=s.timings.wait,T=s.timings.receive;if(g>=0&&f.push({bar:"request.phase.Blocking",elapsed:g,start:h}),m>=0&&f.push({bar:"request.phase.Resolving",elapsed:m,start:h+=0>g?0:g}),b>=0&&f.push({bar:"request.phase.Connecting",elapsed:b,start:h+=0>m?0:m}),y>=0&&f.push({bar:"request.phase.Sending",elapsed:y,start:h+=0>b?0:b}),w>=0&&f.push({bar:"request.phase.Waiting",elapsed:w,start:h+=0>y?0:y}),T>=0&&f.push({bar:"request.phase.Receiving",elapsed:T,start:h+=0>w?0:w,loaded:s.loaded,fromCache:i.isCachedEntry(s)}),this.timingsTag.insertRows({timings:f},p.firstChild),!l)return!0;for(var x=[],C=0;C<r.phase.pageTimings.length;C++){var S=r.phase.pageTimings[C];x.push({bar:S.description?S.description:S.name,start:c+S.time-u,classes:S.classes,time:S.time})}return x.length&&(x.sort(function(e,t){return e.time<t.time?-1:1}),this.separatorTag.insertRows({label:n["request.timings.label"]},p.firstChild),this.eventsTag.insertRows({events:x},p.firstChild)),!0}}),y=u({tag:p(p({"class":"sizeInfoTip"},"$file|getSize"),p({"class":"sizeInfoTip",style:"display: $file|getCachedDisplayStyle"},"$file|getCached")),zippedTag:p(p({"class":"sizeInfoTip"},"$file|getBodySize"),p({"class":"sizeInfoTip"},"$file|getContentSize"),p({"class":"sizeInfoTip",style:"display: $file|getCachedDisplayStyle"},"$file|getCached")),getSize:function(e){var i=e.response.bodySize;return 0>i?n.unknownSize:t.formatString(n.tooltipSize,t.formatSize(i),t.formatNumber(i))},getBodySize:function(e){var i=e.response.bodySize;return 0>i?n.unknownSize:t.formatString(n.tooltipZippedSize,t.formatSize(i),t.formatNumber(i))},getContentSize:function(e){var i=e.response.content.size;return 0>i?n.unknownSize:t.formatString(n.tooltipUnzippedSize,t.formatSize(i),t.formatNumber(i))},getCached:function(e){return i.isCachedEntry(e)?n.resourceFromCache:""},getCachedDisplayStyle:function(e){return i.isCachedEntry(e)?"block":"none"},render:function(e,t,n){var i=t.repObject;return i.response.bodySize===i.response.content.size?this.tag.replace({file:i},n):this.zippedTag.replace({file:i},n)}});return l.columns=["index","url","status","type","domain","serverIPAddress","connection","size","timeline"],l.defaultColumns=["url","status","size","timeline"],l.getVisibleColumns=function(){var e=r.getCookie("previewCols");if(e)return e=e.replace(/\+/g," "),e=unescape(e),e.split(" ");if(!e){var n=document.getElementById("content");if(n&&(e=n.getAttribute("previewCols")))return e.split(" ")}return t.cloneArray(l.defaultColumns)},l.setVisibleColumns=function(e,t){e||(e=l.getVisibleColumns()),e.join&&(e=e.join(" "));var n=document.getElementById("content");n&&n.setAttribute("previewCols",e),t||r.setCookie("previewCols",e)},l.setVisibleColumns(),l.prototype=u({tableTag:f({"class":"netTable",cellpadding:0,cellspacing:0,onclick:"$onClick",_repObject:"$requestList"},g(b({"class":"netSizerRow"},m({"class":"netIndexCol netCol"}),m({"class":"netHrefCol netCol",width:"20%"}),m({"class":"netStatusCol netCol",width:"7%"}),m({"class":"netTypeCol netCol",width:"7%"}),m({"class":"netDomainCol netCol",width:"7%"}),m({"class":"netServerIPAddressCol netCol",width:"7%"}),m({"class":"netConnectionCol netCol",width:"7%"}),m({"class":"netSizeCol netCol",width:"7%"}),m({"class":"netTimeCol netCol",width:"100%"}),m({"class":"netOptionsCol netCol",width:"15px"})))),fileTag:d("file","$files",b({"class":"netRow loaded",$isExpandable:"$file|isExpandable",$responseError:"$file|isError",$responseRedirect:"$file|isRedirect",$fromCache:"$file|isFromCache"},m({"class":"netIndexCol netCol"},p({"class":"netIndexLabel netLabel"},"$file|getIndex")),m({"class":"netHrefCol netCol"},p({"class":"netHrefLabel netLabel",style:"margin-left: $file|getIndent\\px"},"$file|getHref"),p({"class":"netFullHrefLabel netHrefLabel netLabel",style:"margin-left: $file|getIndent\\px"},"$file|getFullHref")),m({"class":"netStatusCol netCol"},p({"class":"netStatusLabel netLabel",title:"$file|getStatus"},"$file|getStatus")),m({"class":"netTypeCol netCol"},p({"class":"netTypeLabel netLabel",title:"$file|getType"},"$file|getType")),m({"class":"netDomainCol netCol",title:"$file|getDomain"},p({"class":"netDomainLabel netLabel"},"$file|getDomain")),m({"class":"netServerIPAddressCol netCol"},p({"class":"netServerIPAddressLabel netLabel",title:"$file|getServerIPAddress"},"$file|getServerIPAddress")),m({"class":"netConnectionCol netCol"},p({"class":"netConnectionLabel netLabel",title:"$file|getConnection"},"$file|getConnection")),m({"class":"netSizeCol netCol"},p({"class":"netSizeLabel netLabel"},"$file|getSize")),m({"class":"netTimeCol netCol"},p({"class":"netTimelineBar"},"&nbsp;",p({"class":"netBlockingBar netBar"}),p({"class":"netResolvingBar netBar"}),p({"class":"netConnectingBar netBar"}),p({"class":"netSendingBar netBar"}),p({"class":"netWaitingBar netBar"}),p({"class":"netReceivingBar netBar"},h({"class":"netTimeLabel"},"$file|getElapsedTime")))),m({"class":"netOptionsCol netCol"},p({"class":"netOptionsLabel netLabel",onclick:"$onOpenOptions"})))),headTag:b({"class":"netHeadRow"},m({"class":"netHeadCol",colspan:9},p({"class":"netHeadLabel"},"$doc.rootFile.href"))),netInfoTag:b({"class":"netInfoRow"},m({"class":"netInfoCol",colspan:9})),summaryTag:b({"class":"netRow netSummaryRow"},m({"class":"netIndexCol netCol"}),m({"class":"netHrefCol netCol"},p({"class":"netCountLabel netSummaryLabel"},"-")),m({"class":"netStatusCol netCol"}),m({"class":"netTypeCol netCol"}),m({"class":"netDomainCol netCol"}),m({"class":"netServerIPAddressCol netCol"}),m({"class":"netConnectionCol netCol"}),m({"class":"netTotalSizeCol netSizeCol netCol"},p({"class":"netTotalSizeLabel netSummaryLabel"},"0KB")),m({"class":"netTotalTimeCol netTimeCol netCol"},p({"class":"",style:"width: 100%"},p({"class":"netCacheSizeLabel netSummaryLabel"},"(",h("0KB"),h(" "+n.summaryFromCache),")"),p({"class":"netUncompressedSizeLabel netSummaryLabel"},"(",h("0KB"),h(" "+n.uncompressed),")"),p({"class":"netTimeBar"},h({"class":"netTotalTimeLabel netSummaryLabel"},"0ms")))),m({"class":"netOptionsCol netCol"})),getIndex:function(e){return e.index+1},getIndent:function(e){return 0},isError:function(e){var t=Math.floor(e.response.status/100);return 4===t||5===t||0===t},isRedirect:function(e){return!1},isFromCache:function(e){return e.cache&&e.cache.afterRequest||i.isCachedEntry(e)},getHref:function(e){var n=t.getFileName(this.getFullHref(e));return unescape(e.request.method+" "+n)},getFullHref:function(e){return unescape(e.request.url)},getStatus:function(e){if(0===e.response.status&&e.response._error)return e.response._error;var t=e.response.status>0?e.response.status+" ":"";return t+e.response.statusText},getType:function(e){return e.response.content.mimeType},getDomain:function(e){return t.getPrettyDomain(e.request.url)},getServerIPAddress:function(e){return e.serverIPAddress||""},getConnection:function(e){return e.connection||""},getSize:function(e){var t=e.response.bodySize,n=t&&-1!==t?t:e.response.content.size;return this.formatSize(n)},isExpandable:function(e){var t=e.response.headers.length>0,n=0===e.request.url.indexOf("data:");return t||n},formatSize:function(e){return t.formatSize(e)},getElapsedTime:function(e){var n=Math.round(10*e.time)/10;return t.formatTime(n.toFixed(2))},onClick:function(e){var n=t.fixEvent(e);if(t.isLeftClick(e)){var i=t.getAncestorByClass(n.target,"netRow");i&&(this.toggleHeadersRow(i),t.cancelEvent(e))}else t.isControlClick(e)&&window.open(e.target.innerText||e.target.textContent)},toggleHeadersRow:function(e){if(t.hasClass(e,"isExpandable")){var n,i=e.repObject;if(t.toggleClass(e,"opened"),t.hasClass(e,"opened")){n=this.netInfoTag.insertRows({},e)[0],n.repObject=i;var r=new a;r.render(n.firstChild,i)}else n=e.nextSibling,e.parentNode.removeChild(n)}},onOpenOptions:function(e){var n=t.fixEvent(e);if(t.cancelEvent(e),t.isLeftClick(e)){var i=n.target,r=t.getAncestorByClass(i,"netRow"),a=this.getMenuItems(r);if(a.length){var o=new s({id:"requestContextMenu",items:a});o.showPopup(i)}}},getMenuItems:function(e){var i=e.repObject,r=e.phase,a=r.files[0]===i&&this.phases[0]===r,o=[{label:n.menuBreakTimeline,type:"checkbox",disabled:a,checked:r.files[0]===i&&!a,command:t.bind(this.breakLayout,this,e)},"-",{label:n.menuOpenRequest,command:t.bind(this.openRequest,this,i)},{label:n.menuOpenResponse,disabled:!i.response.content.text,command:t.bind(this.openResponse,this,i)}];return t.dispatch(this.listeners,"getMenuItems",[o,this.input,i]),o},openRequest:function(e,t){window.open(t.request.url)},openResponse:function(e,t){var n=t.response.content.text,i=t.response.content.mimeType,r=t.response.content.encoding,a="data:"+(i?i:"")+";"+(r?r:"")+","+n;
window.open(a)},breakLayout:function(e,n){var r=n.repObject,a=n.phase,o=a.files[0]===r;n.breakLayout=!o,n.setAttribute("breakLayout",n.breakLayout?"true":"false");var s=t.getAncestorByClass(n,"netTable"),l=i.getParentPage(this.input,r);this.updateLayout(s,l)},updateLayout:function(e,n){var a=i.getPageEntries(this.input,n);this.table=e;var o=this.table.firstChild,s=this.firstRow=o.firstChild.nextSibling;this.phases=[];var l=r.getCookie("phaseInterval");l||(l=4e3);var c=null,u=n?t.parseISO8601(n.startedDateTime):null,p=n&&n.pageTimings?n.pageTimings.onLoad:-1;p>0&&(p+=u);for(var d=0;d<a.length;d++){var h=a[d];t.hasClass(s,"netInfoRow")&&(s=s.nextSibling),s.repObject=h,u||(u=t.parseISO8601(h.startedDateTime));var f=t.parseISO8601(h.startedDateTime),g=c?t.parseISO8601(c.getLastStartTime()):0,m=c?c.endTime:0,b=!1;l>=0&&(b=f>p&&f-g>=l&&f+h.time>=m+l),"boolean"==typeof s.breakLayout?!c||s.breakLayout?c=this.startPhase(h):c.addFile(h):!c||b?c=this.startPhase(h):c.addFile(h),this.phases[0]!==c&&s.setAttribute("breakLayout",c.files[0]===h?"true":"false"),("number"!=typeof c.startTime||c.startTime>f)&&(c.startTime=f),("number"!=typeof c.endTime||c.endTime<f+h.time)&&(c.endTime=f+h.time),s=s.nextSibling}this.updateTimeStamps(n),this.updateTimeline(n),this.updateSummaries(n)},startPhase:function(e){var t=new c(e);return this.phases.push(t),t},calculateFileTimes:function(e,n,i){if(i!==n.phase&&(i=n.phase,this.phaseStartTime=i.startTime,this.phaseEndTime=i.endTime,this.phaseElapsed=this.phaseEndTime-i.startTime),!n.timings)return i;var r=n.timings.blocked<0?0:n.timings.blocked,a=r+(n.timings.dns<0?0:n.timings.dns),o=a+(n.timings.connect<0?0:n.timings.connect),s=o+(n.timings.send<0?0:n.timings.send),l=s+(n.timings.wait<0?0:n.timings.wait),c=l+(n.timings.receive<0?0:n.timings.receive),u=t.parseISO8601(n.startedDateTime);return this.barOffset=((u-this.phaseStartTime)/this.phaseElapsed*100).toFixed(3),this.barBlockingWidth=(r/this.phaseElapsed*100).toFixed(3),this.barResolvingWidth=(a/this.phaseElapsed*100).toFixed(3),this.barConnectingWidth=(o/this.phaseElapsed*100).toFixed(3),this.barSendingWidth=(s/this.phaseElapsed*100).toFixed(3),this.barWaitingWidth=(l/this.phaseElapsed*100).toFixed(3),this.barReceivingWidth=(c/this.phaseElapsed*100).toFixed(3),this.calculatePageTimings(e,n,i),i},calculatePageTimings:function(e,n,i){if(e)for(var r=t.parseISO8601(e.startedDateTime),a=0;a<i.pageTimings.length;a++){var o=i.pageTimings[a].time;if(o>0){var s=r+o-i.startTime,l=(s/this.phaseElapsed*100).toFixed(3);i.pageTimings[a].offset=l}}},updateTimeline:function(e){for(var n,i=this.firstRow;i;i=i.nextSibling){var r=i.repObject;if(r&&!t.hasClass(i,"netInfoRow")){n=this.calculateFileTimes(e,r,n),i.phase=r.phase,delete r.phase;var a=t.getElementByClass(i,"netTimelineBar"),o=a.children[0],s=o.nextSibling,l=s.nextSibling,c=l.nextSibling,u=c.nextSibling,p=u.nextSibling;o.style.left=l.style.left=s.style.left=c.style.left=u.style.left=p.style.left=this.barOffset+"%",o.style.width=this.barBlockingWidth+"%",s.style.width=this.barResolvingWidth+"%",l.style.width=this.barConnectingWidth+"%",c.style.width=this.barSendingWidth+"%",u.style.width=this.barWaitingWidth+"%",p.style.width=this.barReceivingWidth+"%";for(var d=t.getElementsByClass(a,"netPageTimingBar"),h=0;h<d.length;h++)d[h].parentNode.removeChild(d[h]);for(var f=0;f<n.pageTimings.length;f++){var g=n.pageTimings[f];if(g.offset){var m=a.ownerDocument.createElement("DIV");a.appendChild(m),g.classes&&t.setClass(m,g.classes),t.setClass(m,"netPageTimingBar netBar"),m.style.left=g.offset+"%",m.style.display="block",g.offset=null}}}}},updateTimeStamps:function(e){if(e){var n,i=[];for(n=0;e.pageTimings&&n<this.pageTimings.length;n++){var r=this.pageTimings[n],a=e.pageTimings[r.name];a>0&&i.push({label:r.name,time:a,classes:r.classes,comment:r.description})}var o=e.pageTimings?e.pageTimings._timeStamps:[];o&&i.push.apply(i,o);var s=this.phases;for(n=0;n<s.length;n++)for(var l=s[n],c=s[n+1],u=0;u<i.length;u++){var p=i[u],d=p.time;if(d){var h=t.parseISO8601(e.startedDateTime);d+=h,(!c||d<c.startTime)&&(0===n||d>=l.startTime)&&(l.startTime>d&&(l.startTime=d),l.endTime<d&&(l.endTime=d),l.pageTimings.push({classes:p.classes?p.classes:"netTimeStampBar",name:p.label,description:p.comment,time:p.time}))}}}},updateSummaries:function(e){for(var n=this.phases,i=0,r=0,a=0,o=0,s=0,l=0;l<n.length;++l){var c=n[l];c.invalidPhase=!1;var u=this.summarizePhase(c);i+=u.fileCount,r+=u.totalTransferredSize,a+=u.totalUncompressedSize,o+=u.cachedSize,s+=u.totalTime}var p=this.summaryRow;if(p){var d=t.getElementByClass(p,"netCountLabel");d.firstChild.nodeValue=this.formatRequestCount(i);var h=t.getElementByClass(p,"netTotalSizeLabel");h.setAttribute("totalSize",r),h.firstChild.nodeValue=t.formatSize(r);var f=t.getElementByClass(p,"netUncompressedSizeLabel");f.setAttribute("collapsed",0===a),f.childNodes[1].firstChild.nodeValue=t.formatSize(a);var g=t.getElementByClass(p,"netCacheSizeLabel");g.setAttribute("collapsed",0===o),g.childNodes[1].firstChild.nodeValue=t.formatSize(o);var m=t.getElementByClass(p,"netTotalTimeLabel"),b=t.formatTime(s.toFixed(2));e&&e.pageTimings.onLoad>0&&(b+=" (onload: "+t.formatTime(e.pageTimings.onLoad.toFixed(2))+")"),m.innerHTML=b}},formatRequestCount:function(e){return e+" "+(1===e?n.request:n.requests)},summarizePhase:function(e){for(var n=0,r=0,a=0,o=0,s=0,l=0,c=0;c<e.files.length;c++){var u=e.files[c],p=t.parseISO8601(u.startedDateTime);++o;var d=i.getEntryTransferredSize(u),h=i.getEntryUncompressedSize(u);r+=d,a+=h,i.isCachedEntry(u)&&(n+=h),(!s||s>p)&&(s=p);var f=p+u.time;f>l&&(l=f)}var g=l-s;return{cachedSize:n,totalUncompressedSize:a,totalTransferredSize:r,totalTime:g,fileCount:o}},showInfoTip:function(e,n,i,r){var a=t.getAncestorByClass(n,"netTable");if(a&&a.repObject===this){var o=t.getAncestorByClass(n,"netRow");if(o){var s;if(t.getAncestorByClass(n,"netBar"))return e.setAttribute("multiline",!0),s=o.repObject.startedDateTime+"-nettime",this.infoTipURL=s,this.populateTimeInfoTip(e,o);if(t.hasClass(n,"netSizeLabel"))return s=o.repObject.startedDateTime+"-netsize",this.infoTipURL=s,this.populateSizeInfoTip(e,o)}}},populateTimeInfoTip:function(e,t){return v.render(this,t,e),!0},populateSizeInfoTip:function(e,t){return y.render(this,t,e),!0},render:function(e,t){var n=i.getPageEntries(this.input,t);return n.length?this.append(e,t,n):null},append:function(e,n,i){this.table||(this.table=this.tableTag.replace({requestList:this},e,this)),this.summaryRow||(this.summaryRow=this.summaryTag.insertRows({},this.table.firstChild)[0]);var r=this.table.firstChild,a=r.lastChild.previousSibling,o=i.map(function(e,n){return t.extend(e,{index:n})}),s=this.fileTag.insertRows({files:o},a,this);return this.updateLayout(this.table,n),s[0]},addPageTiming:function(e){this.pageTimings.push(e)}}),c.prototype={addFile:function(e){this.files.push(e),e.phase=this},getLastStartTime:function(){return this.files[this.files.length-1].startedDateTime}},l}),define("nls/pageList",{root:{"column.label.index":"Index","column.label.url":"URL","column.label.status":"Status","column.label.type":"Type","column.label.domain":"Domain","column.label.serverIPAddress":"Server IP Address","column.label.connection":"Connection","column.label.size":"Size","column.label.timeline":"Timeline","action.label.Reset":"Reset"}}),define("preview/pageList",["domplate/domplate","core/lib","core/trace","core/cookies","preview/requestList","i18n!nls/pageList","domplate/popupMenu"],function(e,t,n,i,r,a,o){function s(e){this.input=e,this.listeners=[]}var l=e.domplate,c=e.DIV,u=e.FOR,p=e.SPAN,d=e.TABLE,h=e.TAG,f=e.TBODY,g=e.TD,m=e.TR;return s.prototype=l({tableTag:d({"class":"pageTable",cellpadding:0,cellspacing:0,onclick:"$onClick",_repObject:"$input"},f(h("$rowTag",{groups:"$input.log.pages"}))),rowTag:u("group","$groups",m({"class":"pageRow",_repObject:"$group"},g({"class":"groupName pageCol",width:"1%"},p({"class":"pageName"},"$group|getPageTitle")),g({"class":"netOptionsCol netCol",width:"15px"},c({"class":"netOptionsLabel netLabel",onclick:"$onOpenOptions"})))),bodyTag:m({"class":"pageInfoRow",style:"height:auto;"},g({"class":"pageInfoCol",colspan:2})),getPageTitle:function(e){return t.cropString(e.title,100)},getPageID:function(e){return"["+e.id+"]"},onClick:function(e){var n=t.fixEvent(e);if(t.isLeftClick(e)){var i=t.getAncestorByClass(n.target,"pageRow");i&&(this.toggleRow(i),t.cancelEvent(e))}},toggleRow:function(e,n){var i=t.hasClass(e,"opened");if(!i||!n){var r;if(t.toggleClass(e,"opened"),t.hasClass(e,"opened")){r=this.bodyTag.insertRows({},e)[0];for(var a=this.createRequestList(),o=s.prototype.pageTimings,l=0;l<o.length;l++)a.addPageTiming(o[l]);a.render(r.firstChild,e.repObject)}else r=e.nextSibling,e.parentNode.removeChild(r)}},expandAll:function(e){for(var n=e.firstChild.firstChild;n;)t.hasClass(n,"pageRow")&&this.toggleRow(n,!0),n=n.nextSibling},getPageRow:function(e){for(var n=this.element.parentNode,i=t.getElementsByClass(n,"pageRow"),r=0;r<i.length;r++){var a=i[r];if(a.repObject===e)return a}},togglePage:function(e){var t=this.getPageRow(e);this.toggleRow(t)},expandPage:function(e){var t=this.getPageRow(e);this.toggleRow(t,!0)},collapsePage:function(e){var n=this.getPageRow(e);t.hasClass(n,"opened")&&this.toggleRow(n)},onOpenOptions:function(e){var n=t.fixEvent(e);if(t.cancelEvent(e),t.isLeftClick(e)){var i=n.target,r=t.getAncestorByClass(i,"pageRow"),a=this.getMenuItems(r.repObject),s=new o({id:"requestContextMenu",items:a});s.showPopup(i)}},getMenuItems:function(e){for(var n,i=r.getVisibleColumns().join(),o=0,s=[],l=0;l<r.columns.length;l++){var c=r.columns[l],u=i.indexOf(c)>-1;s.push({label:a["column.label."+c],type:"checkbox",checked:u,command:t.bindFixed(this.onToggleColumn,this,c)}),u&&(n=l,o++)}return 1===o&&(s[n].disabled=!0),s.push("-"),s.push({label:a["action.label.Reset"],command:t.bindFixed(this.updateColumns,this)}),s},onToggleColumn:function(e){var n=r.getVisibleColumns();t.remove(n,e)||n.push(e),this.updateColumns(n)},updateColumns:function(e){e||(e=r.defaultColumns),r.setVisibleColumns(e)},createRequestList:function(){var e=new r(this.input);return e.listeners=this.listeners,e},append:function(e){var n=this.createRequestList();n.render(e,null);var i=this.input.log.pages;if(i&&i.length){var r=this.tableTag.append({input:this.input},e,this),a=t.getElementsByClass(r,"pageRow"),o=t.getElementsByClass(e,"pageTable");1===a.length&&1===o.length&&this.toggleRow(a[0]);var s=t.getURLParameter("expand");s&&this.expandAll(r)}},render:function(e){this.append(e)},addListener:function(e){this.listeners.push(e)},removeListener:function(e){t.remove(this.listeners,e)}}),s.prototype.pageTimings=[],s}),define("preview/validationError",["domplate/domplate","core/lib","core/trace","domplate/popupMenu"],function(e,t,n,i){var r=e.domplate,a=e.DIV,o=e.FOR,s=e.SPAN,l=e.TABLE,c=e.TBODY,u=e.TD,p=e.TR,d=r({errorTable:l({"class":"errorTable",cellpadding:3,cellspacing:0},c(o("error","$errors",p({"class":"errorRow",_repObject:"$error"},u({"class":"errorProperty"},s("$error.property")),u({"class":"errorOptions",$hasTarget:"$error|hasTarget"},a({"class":"errorOptionsTarget",onclick:"$onOpenOptions"},"&nbsp;")),u("&nbsp;"),u({"class":"errorMessage"},s("$error.message")))))),hasTarget:function(e){return e.input&&e.file},onOpenOptions:function(e){var n=t.fixEvent(e);if(t.cancelEvent(e),t.isLeftClick(e)){var r=n.target,a=t.getAncestorByClass(r,"errorRow"),o=a.repObject;if(o&&o.input&&o.file){var s=this.getMenuItems(o.input,o.file);if(s.length){var l=new i({id:"requestContextMenu",items:s});l.showPopup(r)}}}},getMenuItems:function(e,n){var i=[];return t.dispatch(this.listeners,"getMenuItems",[i,e,n]),i},listeners:[],addListener:function(e){this.listeners.push(e)},removeListener:function(e){t.remove(this.listeners,e)},appendError:function(e,t){e.errors&&this.errorTable.append(e,t)}});return d});var swfobject=function(){function e(){"complete"==w.readyState&&(w.parentNode.removeChild(w),t())}function t(){if(!N){if(H.ie&&H.win){var e=f("span");try{var t=R.getElementsByTagName("body")[0].appendChild(e);t.parentNode.removeChild(t)}catch(n){return}}N=!0,D&&(clearInterval(D),D=null);for(var i=k.length,r=0;i>r;r++)k[r]()}}function n(e){N?e():k[k.length]=e}function i(e){if(typeof B.addEventListener!=T)B.addEventListener("load",e,!1);else if(typeof R.addEventListener!=T)R.addEventListener("load",e,!1);else if(typeof B.attachEvent!=T)g(B,"onload",e);else if("function"==typeof B.onload){var t=B.onload;B.onload=function(){t(),e()}}else B.onload=e}function r(){for(var e=O.length,t=0;e>t;t++){var n=O[t].id;if(H.pv[0]>0){var i=h(n);i&&(O[t].width=i.getAttribute("width")?i.getAttribute("width"):"0",O[t].height=i.getAttribute("height")?i.getAttribute("height"):"0",m(O[t].swfVersion)?(H.webkit&&H.webkit<312&&a(i),v(n,!0)):O[t].expressInstall&&!j&&m("6.0.65")&&(H.win||H.mac)?o(O[t]):s(i))}else v(n,!0)}}function a(e){var t=e.getElementsByTagName(x)[0];if(t){var n=f("embed"),i=t.attributes;if(i)for(var r=i.length,a=0;r>a;a++)"DATA"==i[a].nodeName?n.setAttribute("src",i[a].nodeValue):n.setAttribute(i[a].nodeName,i[a].nodeValue);var o=t.childNodes;if(o)for(var s=o.length,l=0;s>l;l++)1==o[l].nodeType&&"PARAM"==o[l].nodeName&&n.setAttribute(o[l].getAttribute("name"),o[l].getAttribute("value"));e.parentNode.replaceChild(n,e)}}function o(e){j=!0;var t=h(e.id);if(t){if(e.altContentId){var n=h(e.altContentId);n&&(P=n,M=e.altContentId)}else P=l(t);!/%$/.test(e.width)&&parseInt(e.width,10)<310&&(e.width="310"),!/%$/.test(e.height)&&parseInt(e.height,10)<137&&(e.height="137"),R.title=R.title.slice(0,47)+" - Flash Player Installation";var i=H.ie&&H.win?"ActiveX":"PlugIn",r=R.title,a="MMredirectURL="+B.location+"&MMplayerType="+i+"&MMdoctitle="+r,o=e.id;if(H.ie&&H.win&&4!=t.readyState){var s=f("div");o+="SWFObjectNew",s.setAttribute("id",o),t.parentNode.insertBefore(s,t),t.style.display="none";var u=function(){t.parentNode.removeChild(t)};g(B,"onload",u)}c({data:e.expressInstall,id:E,width:e.width,height:e.height},{flashvars:a},o)}}function s(e){if(H.ie&&H.win&&4!=e.readyState){var t=f("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(l(e),t),e.style.display="none";var n=function(){e.parentNode.removeChild(e)};g(B,"onload",n)}else e.parentNode.replaceChild(l(e),e)}function l(e){var t=f("div");if(H.win&&H.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(x)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,a=0;r>a;a++)1==i[a].nodeType&&"PARAM"==i[a].nodeName||8==i[a].nodeType||t.appendChild(i[a].cloneNode(!0))}}return t}function c(e,t,n){var i,r=h(n);if(r)if(typeof e.id==T&&(e.id=n),H.ie&&H.win){var a="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?a+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(a+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');r.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+s+"</object>",$[$.length]=e.id,i=h(e.id)}else if(H.webkit&&H.webkit<312){var c=f("embed");c.setAttribute("type",L);for(var p in e)e[p]!=Object.prototype[p]&&("data"==p.toLowerCase()?c.setAttribute("src",e[p]):"styleclass"==p.toLowerCase()?c.setAttribute("class",e[p]):"classid"!=p.toLowerCase()&&c.setAttribute(p,e[p]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&c.setAttribute(d,t[d]);r.parentNode.replaceChild(c,r),i=c}else{var g=f(x);g.setAttribute("type",L);for(var m in e)e[m]!=Object.prototype[m]&&("styleclass"==m.toLowerCase()?g.setAttribute("class",e[m]):"classid"!=m.toLowerCase()&&g.setAttribute(m,e[m]));for(var b in t)t[b]!=Object.prototype[b]&&"movie"!=b.toLowerCase()&&u(g,b,t[b]);r.parentNode.replaceChild(g,r),i=g}return i}function u(e,t,n){var i=f("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=h(e);!t||"OBJECT"!=t.nodeName&&"EMBED"!=t.nodeName||(H.ie&&H.win?4==t.readyState?d(e):B.attachEvent("onload",function(){d(e)}):t.parentNode.removeChild(t))}function d(e){var t=h(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function h(e){var t=null;try{t=R.getElementById(e)}catch(n){}return t}function f(e){return R.createElement(e)}function g(e,t,n){e.attachEvent(t,n),A[A.length]=[e,t,n]}function m(e){var t=H.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function b(e,t){if(!H.ie||!H.mac){var n=R.getElementsByTagName("head")[0],i=f("style");if(i.setAttribute("type","text/css"),i.setAttribute("media","screen"),H.ie&&H.win||typeof R.createTextNode==T||i.appendChild(R.createTextNode(e+" {"+t+"}")),n.appendChild(i),H.ie&&H.win&&typeof R.styleSheets!=T&&R.styleSheets.length>0){var r=R.styleSheets[R.styleSheets.length-1];typeof r.addRule==x&&r.addRule(e,t)}}}function v(e,t){var n=t?"visible":"hidden";N&&h(e)?h(e).style.visibility=n:b("#"+e,"visibility:"+n)}function y(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n?encodeURIComponent(e):e}var w,T="undefined",x="object",C="Shockwave Flash",S="ShockwaveFlash.ShockwaveFlash",L="application/x-shockwave-flash",E="SWFObjectExprInst",B=window,R=document,I=navigator,k=[],O=[],$=[],A=[],D=null,P=null,M=null,N=!1,j=!1,H=function(){var e=typeof R.getElementById!=T&&typeof R.getElementsByTagName!=T&&typeof R.createElement!=T,t=[0,0,0],n=null;if(typeof I.plugins!=T&&typeof I.plugins[C]==x)n=I.plugins[C].description,!n||typeof I.mimeTypes!=T&&I.mimeTypes[L]&&!I.mimeTypes[L].enabledPlugin||(n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10),t[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10),t[2]=/r/.test(n)?parseInt(n.replace(/^.*r(.*)$/,"$1"),10):0);else if(typeof B.ActiveXObject!=T){var i=null,r=!1;try{i=new ActiveXObject(S+".7")}catch(a){try{i=new ActiveXObject(S+".6"),t=[6,0,21],i.AllowScriptAccess="always"}catch(a){6==t[0]&&(r=!0)}if(!r)try{i=new ActiveXObject(S)}catch(a){}}if(!r&&i)try{n=i.GetVariable("$version"),n&&(n=n.split(" ")[1].split(","),t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}catch(a){}}var o=I.userAgent.toLowerCase(),s=I.platform.toLowerCase(),l=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,c=!1,u=s?/win/.test(s):/win/.test(o),p=s?/mac/.test(s):/mac/.test(o);return{w3cdom:e,pv:t,webkit:l,ie:c,win:u,mac:p}}();(function(){if(H.w3cdom){if(n(r),H.ie&&H.win)try{R.write("<script id=__ie_ondomload defer=true src=//:></script>"),w=h("__ie_ondomload"),w&&g(w,"onreadystatechange",e)}catch(a){}H.webkit&&typeof R.readyState!=T&&(D=setInterval(function(){/loaded|complete/.test(R.readyState)&&t()},10)),typeof R.addEventListener!=T&&R.addEventListener("DOMContentLoaded",t,null),i(t)}})(),function(){H.ie&&H.win&&window.attachEvent("onunload",function(){for(var e=A.length,t=0;e>t;t++)A[t][0].detachEvent(A[t][1],A[t][2]);for(var n=$.length,i=0;n>i;i++)p($[i]);for(var r in H)H[r]=null;H=null;for(var a in swfobject)swfobject[a]=null;swfobject=null})}();return{registerObject:function(e,t,n){if(H.w3cdom&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n?n:!1,O[O.length]=i,v(e,!1)}},getObjectById:function(e){var t=null;if(H.w3cdom){var n=h(e);if(n){var i=n.getElementsByTagName(x)[0];!i||i&&typeof n.SetVariable!=T?t=n:typeof i.SetVariable!=T&&(t=i)}}return t},embedSWF:function(e,t,i,r,a,s,l,u,p){if(H.w3cdom&&e&&t&&i&&r&&a)if(i+="",r+="",m(a)){v(t,!1);var d={};if(p&&typeof p===x)for(var h in p)p[h]!=Object.prototype[h]&&(d[h]=p[h]);d.data=e,d.width=i,d.height=r;var f={};if(u&&typeof u===x)for(var g in u)u[g]!=Object.prototype[g]&&(f[g]=u[g]);if(l&&typeof l===x)for(var b in l)l[b]!=Object.prototype[b]&&(typeof f.flashvars!=T?f.flashvars+="&"+b+"="+l[b]:f.flashvars=b+"="+l[b]);n(function(){c(d,f,t),d.id==t&&v(t,!0)})}else s&&!j&&m("6.0.65")&&(H.win||H.mac)&&(j=!0,v(t,!1),n(function(){var e={};e.id=e.altContentId=t,e.width=i,e.height=r,e.expressInstall=s,o(e)}))},getFlashPlayerVersion:function(){return{major:H.pv[0],minor:H.pv[1],release:H.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(e,t,n){return H.w3cdom?c(e,t,n):void 0},removeSWF:function(e){H.w3cdom&&p(e)},createCSS:function(e,t){H.w3cdom&&b(e,t)},addDomLoadEvent:n,addLoadEvent:i,getQueryParamValue:function(e){var t=R.location.search||R.location.hash;if(null==e)return y(t);if(t)for(var n=t.substring(1).split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return y(n[i].substring(n[i].indexOf("=")+1));return""},expressInstallCallback:function(){if(j&&P){var e=h(E);e&&(e.parentNode.replaceChild(P,e),M&&(v(M,!0),H.ie&&H.win&&(P.style.display="block")),P=null,M=null,j=!1)}}}}();define("downloadify/js/swfobject",function(){}),function(){Downloadify=window.Downloadify={queue:{},uid:(new Date).getTime(),getTextForSave:function(e){var t=Downloadify.queue[e];return t?t.getData():""},getFileNameForSave:function(e){var t=Downloadify.queue[e];return t?t.getFilename():""},saveComplete:function(e){var t=Downloadify.queue[e];return t&&t.complete(),!0},saveCancel:function(e){var t=Downloadify.queue[e];return t&&t.cancel(),!0},saveError:function(e){var t=Downloadify.queue[e];return t&&t.error(),!0},addToQueue:function(e){Downloadify.queue[e.queue_name]=e},getUID:function(e){return""==e.id&&(e.id="downloadify_"+Downloadify.uid++),e.id}},Downloadify.create=function(e,t){var n="string"==typeof e?document.getElementById(e):e;return new Downloadify.Container(n,t)},Downloadify.Container=function(e,t){var n=this;n.el=e,n.enabled=!0,n.dataCallback=null,n.filenameCallback=null,n.data=null,n.filename=null;var i=function(){n.options=t,n.options.append||(n.el.innerHTML=""),n.flashContainer=document.createElement("span"),n.el.appendChild(n.flashContainer),n.queue_name=Downloadify.getUID(n.flashContainer),"function"==typeof n.options.filename?n.filenameCallback=n.options.filename:n.options.filename&&(n.filename=n.options.filename),"function"==typeof n.options.data?n.dataCallback=n.options.data:n.options.data&&(n.data=n.options.data);var e={queue_name:n.queue_name,width:n.options.width,height:n.options.height},i={allowScriptAccess:"always"},r={id:n.flashContainer.id,name:n.flashContainer.id};n.options.enabled===!1&&(n.enabled=!1),n.options.transparent===!0&&(i.wmode="transparent"),n.options.downloadImage&&(e.downloadImage=n.options.downloadImage),swfobject.embedSWF(n.options.swf,n.flashContainer.id,n.options.width,n.options.height,"10",null,e,i,r),Downloadify.addToQueue(n)};n.enable=function(){var e=document.getElementById(n.flashContainer.id);e.setEnabled(!0),n.enabled=!0},n.disable=function(){var e=document.getElementById(n.flashContainer.id);e.setEnabled(!1),n.enabled=!1},n.getData=function(){return n.enabled?n.dataCallback?n.dataCallback():n.data?n.data:"":""},n.getFilename=function(){return n.filenameCallback?n.filenameCallback():n.filename?n.filename:""},n.complete=function(){"function"==typeof n.options.onComplete&&n.options.onComplete()},n.cancel=function(){"function"==typeof n.options.onCancel&&n.options.onCancel()},n.error=function(){"function"==typeof n.options.onError&&n.options.onError()},i()},Downloadify.defaultOptions={swf:"media/downloadify.swf",downloadImage:"images/download.png",width:100,height:30,transparent:!0,append:!1}}(),"undefined"!=typeof jQuery&&!function(e){e.fn.downloadify=function(t){return this.each(function(){t=e.extend({},Downloadify.defaultOptions,t);var n=Downloadify.create(this,t);e(this).data("Downloadify",n)})}}(jQuery),define("downloadify/src/downloadify",function(){}),define("tabs/previewTab",["domplate/domplate","domplate/tabView","core/lib","i18n!nls/previewTab","domplate/toolbar","tabs/pageTimeline","tabs/harStats","preview/pageList","core/cookies","preview/validationError","downloadify/js/swfobject","downloadify/src/downloadify"],function(e,t,n,i,r,a,o,s,l,c){function u(e){this.model=e,this.toolbar=new r,this.timeline=new a,this.stats=new o(e,this.timeline),this.toolbar.addButtons(this.getToolbarButtons()),c.addListener(this)}var p=e.DIV;return u.prototype=n.extend(t.Tab.prototype,{id:"Preview",label:i.previewTabLabel,tabBodyTag:p({"class":"tab$tab.id\\Body tabBody",_repObject:"$tab"},p({"class":"previewToolbar"}),p({"class":"previewTimeline"}),p({"class":"previewStats"}),p({"class":"previewList"})),onUpdateBody:function(e,t){this.toolbar.render(n.$(t,"previewToolbar")),this.stats.render(n.$(t,"previewStats")),this.timeline.render(n.$(t,"previewTimeline"));var i=this.model.input;i&&"true"===l.getCookie("timeline")&&this.onTimeline(!1),i&&"true"===l.getCookie("stats")&&this.onStats(!1),this.updateDownloadifyButton()},updateDownloadifyButton:function(){var e=this.model;$(".harDownloadButton").downloadify({filename:function(){return"netData.har"},data:function(){return e?e.toJSON():""},onComplete:function(){},onCancel:function(){},onError:function(){alert(i.downloadError)},swf:"scripts/downloadify/media/downloadify.swf",downloadImage:"css/images/download-sprites.png",width:16,height:16,transparent:!0,append:!1})},getToolbarButtons:function(){var e=[{id:"showTimeline",label:i.showTimelineButton,tooltiptext:i.showTimelineTooltip,command:n.bindFixed(this.onTimeline,this,!0)},{id:"showStats",label:i.showStatsButton,tooltiptext:i.showStatsTooltip,command:n.bindFixed(this.onStats,this,!0)},{id:"clear",label:i.clearButton,tooltiptext:i.clearTooltip,command:n.bindFixed(this.onClear,this)}];return e.push({id:"download",tooltiptext:i.downloadTooltip,className:"harDownloadButton"}),e},onTimeline:function(e){var t=this.toolbar.getButton("showTimeline");if(t){this.timeline.toggle(e);var n=this.timeline.isVisible();t.label=i[n?"hideTimelineButton":"showTimelineButton"],this.toolbar.render(),this.updateDownloadifyButton(),l.setCookie("timeline",n)}},onStats:function(e){var t=this.toolbar.getButton("showStats");if(t){this.stats.toggle(e);var n=this.stats.isVisible();t.label=i[n?"hideStatsButton":"showStatsButton"],this.toolbar.render(),this.updateDownloadifyButton(),l.setCookie("stats",n)}},onClear:function(){var e=document.location.href,t=e.indexOf("?");document.location=e.substr(0,t)},showStats:function(e){l.setCookie("stats",e)},showTimeline:function(e){l.setCookie("timeline",e)},append:function(e){var t=new s(e);t.append(n.$(this._body,"previewList")),this.timeline.append(e),t.addListener(this)},appendError:function(e){c.appendError(e,n.$(this._body,"previewList"))},addPageTiming:function(e){s.prototype.pageTimings.push(e)},getMenuItems:function(e,t,r){r&&(e.push("-"),e.push({label:i.menuShowHARSource,command:n.bind(this.showHARSource,this,t,r)}))},showHARSource:function(e,t,n){var i=this.tabView.getTab("DOM");i&&(i.select("DOM"),i.highlightFile(t,n))}}),u}),define("tabs/schemaTab",["domplate/domplate","domplate/tabView","core/lib","i18n!nls/harViewer","syntax-highlighter/shCore","core/trace"],function(e,t,n,i,r,a){function o(){}var s=e.PRE;return o.prototype={id:"Schema",label:i.schemaTabLabel,bodyTag:s({"class":"brush: javascript; toolbar: false;",name:"code"}),onUpdateBody:function(e,t){$.ajax({url:"scripts/preview/harSchema.js",context:this,success:function(e){var n=t.firstChild;n.innerHTML=e,r.SyntaxHighlighter.highlight(n)},error:function(e,t,n){a.error("SchemaTab.onUpdateBody; ERROR ",e,t,n)}})}},o}),define("nls/domTab",{root:{domTabLabel:"HAR",searchDisabledForIE:"You need Mozilla or WebKit based browser to search in HAR",searchOptionJsonQuery:"JSON Query",tableView:"Table View",searchResultsDefaultText:"JSON Query Results",searchPlaceholder:"Search",jsonQueryPlaceholder:"JSON Query",queryResultsTableView:"Table View"}}),define("nls/search",{root:{search:"Search",caseSensitive:"Case Sensitive"}}),define("tabs/search",["domplate/domplate","core/lib","i18n!nls/search","domplate/toolbar","domplate/popupMenu","core/cookies","core/dragdrop"],function(e,t,n,i,r,a,o){var s=e.domplate,l=e.INPUT,c=e.SPAN,u={},p="searchCaseSensitive";return u.Box=s({tag:c({"class":"searchBox"},c({"class":"toolbarSeparator resizer"},"&nbsp;"),c({"class":"searchTextBox"},l({"class":"searchInput",type:"text",placeholder:n.search,onkeydown:"$onKeyDown"}),c({"class":"arrow",onclick:"$onOpenOptions"},"&nbsp;"))),onKeyDown:function(e){var n=$.event.fix(e||window.event),i=t.getAncestorByClass(n.target,"tabBody"),r=t.getElementByClass(i,"searchInput");setTimeout(t.bindFixed(this.search,this,i,n.keyCode,r.value))},initialize:function(e){var n=t.getElementByClass(e,"searchInput"),i=t.getElementByClass(e,"resizer");u.Resizer.initialize(n,i)},search:function(e,n,i){var r=t.getElementByClass(e,"searchInput");r.removeAttribute("status");var a=r.value;if(!(a===i&&13!==n||13!==n&&t.isWebkit)){var o=e.repObject.onSearch(a,n);o||r.setAttribute("status","notfound")}},onOpenOptions:function(e){var n=t.fixEvent(e);if(t.cancelEvent(e),t.isLeftClick(e)){var i=n.target,a=this.getMenuItems(i),o=new r({id:"searchOptions",items:a});o.showPopup(i)}},getMenuItems:function(e){var i=t.getAncestorByClass(e,"tabBody"),r=i.repObject.getSearchOptions();return r.push("-"),r.push({label:n.caseSensitive,checked:a.getBooleanCookie(p),command:t.bindFixed(this.onOption,this,p)}),r},onOption:function(e){a.toggleCookie(e);var n=t.getElementByClass(document.documentElement,"searchInput");n.removeAttribute("status")}}),u.ObjectSearch=function(e,t,n,i){this.text=e,this.reverse=n,this.caseSensitive=i,this.stack=[],this.stack.push({object:t,propIndex:0,startOffset:-1}),this.matches=[]},u.ObjectSearch.prototype={findNext:function(e){for(;this.stack.length>0;){var t=this.getCurrentScope(),n=this.find(t);if(n)return n}return!1},find:function(e){var t=0;for(var n in e.object)if(t++,!(e.propIndex>=t)){var i=e.object[n];if(i){if(e.propIndex=t,"object"==typeof i)return this.stack.push({propIndex:0,object:i,startOffset:-1}),!1;var r=this.text,o=String(i);a.getBooleanCookie(p)||(o=o.toLowerCase(),r=r.toLowerCase());var s=e.startOffset<0?0:e.startOffset,l=o.indexOf(r,s);if(l>=0)return e.propIndex+=-1,e.startOffset=l+r.length,this.matches.push({value:i,startOffset:l}),!0}}return this.stack.pop(),!1},getCurrentScope:function(){return this.stack[this.stack.length-1]},getCurrentMatch:function(){return this.matches[this.matches.length-1]},selectText:function(e){var n=this.getCurrentMatch();t.selectElementText(e,n.startOffset,n.startOffset+this.text.length)}},u.Resizer=s({initialize:function(e,n){this.searchInput=e,this.tracker=new o.Tracker(n,{onDragStart:t.bind(this.onDragStart,this),onDragOver:t.bind(this.onDragOver,this),onDrop:t.bind(this.onDrop,this)})},onDragStart:function(e){var n=t.getBody(this.searchInput.ownerDocument);n.setAttribute("vResizing","true"),this.startWidth=this.searchInput.clientWidth-20},onDragOver:function(e,n){var i=this.startWidth-e.x,r=t.getAncestorByClass(this.searchInput,"toolbar");i>r.clientWidth-40||(this.searchInput.style.width=i+"px")},onDrop:function(e){var n=t.getBody(this.searchInput.ownerDocument);n.removeAttribute("vResizing")}}),u}),define("nls/tableView",{root:{objectProperties:"Object Properties"}}),define("domplate/tableView",["domplate/domplate","core/lib","i18n!nls/tableView","domplate/domTree","core/trace"],function(e,t,n,i,r){var a=e.domplate,o=e.DIV,s=e.FOR,l=e.TABLE,c=e.TAG,u=e.TBODY,p=e.TD,d=e.TH,h=e.THEAD,f=e.TR,g=a({className:"table",tag:o({"class":"dataTableSizer",tabindex:"-1"},l({"class":"dataTable",cellspacing:0,cellpadding:0,width:"100%",role:"grid"},h({"class":"dataTableThead",role:"presentation"},f({"class":"headerRow focusRow dataTableRow subFocusRow",role:"row",onclick:"$onClickHeader"},s("column","$object.columns",d({"class":"headerCell a11yFocus",role:"columnheader",$alphaValue:"$column.alphaValue"},o({"class":"headerCellBox"},"$column.label"))))),u({"class":"dataTableTbody",role:"presentation"},s("row","$object.data|getRows",f({"class":"focusRow dataTableRow subFocusRow",role:"row"},s("column","$row|getColumns",p({"class":"a11yFocus dataTableCell",role:"gridcell"},c("$column|getValueTag",{object:"$column"})))))))),getValueTag:function(e){var t=typeof e;if("object"===t)return i.Reps.Tree.tag;
var n=i.Reps.getRep(e);return n.shortTag||n.tag},getRows:function(e){var t=this.getProps(e);return t.length?t:[]},getColumns:function(e){if("object"!=typeof e)return[e];for(var t=[],n=0;n<this.columns.length;n++){var i,r=this.columns[n].property;if(r)if("undefined"==typeof e[r]){var a="string"==typeof r?r.split("."):[r];i=e;for(var o in a)i=i&&i[a[o]]||void 0}else i=e[r];else i=e;t.push(i)}return t},getProps:function(e){if("object"!=typeof e)return[e];if(e.length)return t.cloneArray(e);var n=[];for(var i in e){var r=e[i];this.domFilter(r,i)&&n.push(r)}return n},onClickHeader:function(e){var n=t.getAncestorByClass(e.target,"dataTable"),i=t.getAncestorByClass(e.target,"headerCell");if(i){var r=!t.hasClass(i,"alphaValue"),a=0;for(i=i.previousSibling;i;i=i.previousSibling)++a;this.sort(n,a,r)}},sort:function(e,n,i){for(var r=t.getChildByClass(e,"dataTableTbody"),a=t.getChildByClass(e,"dataTableThead"),o=[],s=r.childNodes[0];s;s=s.nextSibling){var l=s.childNodes[n],c=i?parseFloat(l.textContent):l.textContent;o.push({row:s,value:c})}o.sort(function(e,t){return e.value<t.value?-1:1});var u=a.firstChild,p=t.getChildByClass(u,"headerSorted");t.removeClass(p,"headerSorted"),p&&p.removeAttribute("aria-sort");var d=u.childNodes[n];if(t.setClass(d,"headerSorted"),d.sorted&&1!==d.sorted){t.removeClass(d,"sortedAscending"),t.setClass(d,"sortedDescending"),d.setAttribute("aria-sort","descending"),d.sorted=1;for(var h=o.length-1;h>=0;--h)r.appendChild(o[h].row)}else{t.removeClass(d,"sortedDescending"),t.setClass(d,"sortedAscending"),d.setAttribute("aria-sort","ascending"),d.sorted=-1;for(var f=0;f<o.length;++f)r.appendChild(o[f].row)}},getHeaderColumns:function(e){var t;for(var i in e){t=e[i];break}if("object"!=typeof t)return[{label:n.objectProperties}];var r=[];for(var a in t){var o=t[a];this.domFilter(o,a)&&r.push({property:a,label:a,alphaValue:"number"!=typeof o})}return r},domFilter:function(e,t){return!0},render:function(e,n,i){if(n){for(var a=[],o=0;i&&o<i.length;o++){var s=i[o],l="undefined"!=typeof s.property?s.property:s,c="undefined"!=typeof s.label?s.label:l;a.push({property:l,label:c,alphaValue:!0})}a.length||(a=this.getHeaderColumns(n));try{this.columns=a;var u={data:n,columns:a},p=this.tag.append({object:u,columns:a},e),d=t.getElementByClass(p,"dataTableTbody"),h=200;h>0&&d.clientHeight>h&&(d.style.height=h+"px")}catch(f){r.exception("tableView.render; EXCEPTION "+f,f)}finally{delete this.columns}}}});return g}),function(){function map(e,t){var n=e.length;if("function"!=typeof t)throw new TypeError;for(var i=new Array(n),r=arguments[2],a=0;n>a;a++)a in e&&(i[a]=t.call(r,e[a],a,e));return i}function filter(e,t){var n=e.length;if("function"!=typeof t)throw new TypeError;for(var i=new Array,r=arguments[2],a=0;n>a;a++)if(a in e){var o=e[a];t.call(r,o,a,e)&&i.push(o)}return i}function slice(e,t,n,i){var r=e.length,a=[];n=n||r,t=0>t?Math.max(0,t+r):Math.min(r,t),n=0>n?Math.max(0,n+r):Math.min(r,n);for(var o=t;n>o;o+=i)a.push(e[o]);return a}function expand(e,t){function n(e){t&&(t!==!0||e instanceof Array?e[t]&&i.push(e[t]):i.push(e));for(var r in e){var a=e[r];t?a&&"object"==typeof a&&n(a):i.push(a)}}var i=[];if(t instanceof Array){if(1==t.length)return e[t[0]];for(var r=0;r<t.length;r++)i.push(e[t[r]])}else n(e);return i}function distinctFilter(e,t){for(var n=[],i={},r=0,a=e.length;a>r;++r){var o=e[r];t(o,r,e)&&("object"==typeof o&&o?o.__included||(o.__included=!0,n.push(o)):i[o+typeof o]||(i[o+typeof o]=!0,n.push(o)))}for(r=0,a=n.length;a>r;++r)n[r]&&delete n[r].__included;return n}var JSONQuery=function(query,obj){function call(e){prefix=e+"("+prefix}function makeRegex(e,t,n,i,r){return str[r].match(/[\*\?]/)||"~"==i?"/^"+str[r].substring(1,str[r].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,".$1")+("~"==i?"$/i":"$/")+".test("+t+")":e}tokens=[];var depth=0,str=[];query=query.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(e){return depth+="["==e?1:"]"==e?-1:0,"]"==e&&depth>0?"`]":'"'==e.charAt(0)||"'"==e.charAt(0)?"`"+(str.push(e)-1):e});var prefix="";query.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call")}),query=query.replace(/([^=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(e){return"."==e.charAt(0)?e:"@"==e?"$obj":(e.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+e}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(e,t,n){var i=e.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(i){var r="";return e.match(/^\./)&&(call("expand"),r=",true)"),call(i[1].match(/\=/)?"map":i[1].match(/\^/)?"distinctFilter":"filter"),r+",function($obj){return "+i[2]+"})"}return(i=e.match(/^\[\s*([\/\\].*)\]/))?".concat().sort(function(a,b){"+i[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(e,t,n){return"var av= "+n.replace(/\$obj/,"a")+",bv= "+n.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+("/"==t?1:-1)+";}\nif(bv>av||av==null){return "+("/"==t?-1:1)+";}\n"})+"})":(i=e.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/),i?(call("slice"),","+(i[1]||0)+","+(i[2]||0)+","+(i[3]||1)+")"):e.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)?(call("expand"),("."==e.charAt(1)?",'"+n+"'":e.match(/,/)?","+e:"")+")"):e)}).replace(/(\$obj\s*(\.\s*[\w_$]+\s*)*)(==|~)\s*`([0-9]+)/g,makeRegex).replace(/`([0-9]+)\s*(==|~)\s*(\$obj(\s*\.\s*[\w_$]+)*)/g,function(e,t,n,i,r){return makeRegex(e,i,r,n,t)}),query=prefix+("$"==query.charAt(0)?"":"$")+query.replace(/`([0-9]+|\])/g,function(e,t){return"]"==t?"]":str[t]});for(var executor=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+query+"}"),i=0;i<arguments.length-1;i++)arguments[i]=arguments[i+1];return obj?executor.apply(this,arguments):executor};"function"==typeof namespace?namespace("json::JSONQuery",JSONQuery):window.JSONQuery=JSONQuery}(),define("json-query/JSONQuery",function(){}),define("tabs/domTab",["domplate/domplate","domplate/tabView","core/lib","i18n!nls/domTab","domplate/toolbar","tabs/search","core/dragdrop","domplate/domTree","core/cookies","domplate/tableView","core/trace","json-query/JSONQuery"],function(e,t,n,i,r,a,o,s,l,c,u){function p(){this.toolbar=new r,this.toolbar.addButtons(this.getToolbarButtons()),this.tableView=!1}var d=e.domplate,h=e.DIV,f=e.INPUT,g=e.SPAN,m=e.TABLE,b=e.TBODY,v=e.TD,y=e.TR,w="searchJsonQuery";return p.prototype=d(t.Tab.prototype,{id:"DOM",label:i.domTabLabel,separator:h({"class":"separator"}),tabBodyTag:h({"class":"tab$tab.id\\Body tabBody",_repObject:"$tab"},h({"class":"domToolbar"}),h({"class":"domContent"})),domBox:m({"class":"domBox",cellpadding:0,cellspacing:0},b(y(v({"class":"content"},h({"class":"title"},"$title")),v({"class":"splitter"}),v({"class":"results"},h({"class":"resultsDefaultContent"},i.searchResultsDefaultText))))),queryResultsViewType:h({"class":"queryResultsViewType"},f({"class":"type",type:"checkbox",onclick:"$onTableView"}),g({"class":"label"},i.queryResultsTableView)),onUpdateBody:function(e,t){if(this.toolbar.render(n.$(t,"domToolbar")),!n.supportsSelectElementText){var r=n.getElementByClass(t,"searchBox"),a=n.getElementByClass(r,"searchInput");a.setAttribute("disabled","true"),a.setAttribute("title",i.searchDisabledForIE);var o=n.getElementByClass(r,"arrow");o.setAttribute("disabled","true")}this.updateSearchResultsUI()},getToolbarButtons:function(){var e=[];return e.push({id:"search",tag:a.Box.tag,initialize:a.Box.initialize}),e},createSearchObject:function(e){var t=n.getElementsByClass(this._body,"domTable");t=n.cloneArray(t);var i=t.map(function(e){return e.repObject.input});return new a.ObjectSearch(e,i,!1,!1)},getSearchOptions:function(){var e=[];return e.push({label:i.searchOptionJsonQuery,checked:l.getBooleanCookie(w),command:n.bindFixed(this.onOption,this,w)}),e},onOption:function(e){a.Box.onOption(e),this.updateSearchResultsUI()},updateSearchResultsUI:function(){for(var e=l.getBooleanCookie(w),t=n.getElementsByClass(this._body,"domBox"),r=0;r<t.length;r++){var a=t[r],o=n.getElementByClass(a,"results"),s=n.getElementByClass(a,"splitter");e?(n.setClass(o,"visible"),n.setClass(s,"visible")):(n.removeClass(o,"visible"),n.removeClass(s,"visible"))}var c=n.getElementByClass(this._body,"searchInput");if(c){var u=e?i.jsonQueryPlaceholder:i.searchPlaceholder;c.setAttribute("placeholder",u)}},onSearch:function(e,t){var i=l.getBooleanCookie(w);if(i)return this.evalJsonQuery(e,t);if(e.length<3)return!0;if(this.currSearch&&this.currSearch.text!==e&&(this.currSearch=null),this.currSearch||(this.currSearch=this.createSearchObject(e)),this.currSearch.findNext(e)){for(var r=this.currSearch.stack[1].object,a=this.getDomTree(r),o=0;o<this.currSearch.stack.length;o++)a.expandRow(this.currSearch.stack[o].object);var s=this.currSearch.getCurrentMatch(),c=a.getRow(s.value);if(c){var u=c.querySelector(".memberValueCell .objectBox");this.currSearch.selectText(u.firstChild),n.scrollIntoCenterView(u)}return!0}return this.currSearch.matches.length>0&&(this.currSearch=this.createSearchObject(e)),!1},evalJsonQuery:function(e,t){if(13!==t)return!0;for(var i=n.getElementsByClass(this._body,"domBox"),r=0;r<i.length;r++){var a=i[r],o=n.getElementByClass(a,"domTable"),l=o.repObject.input,p=a.querySelector(".domBox .results");n.clearNode(p);try{var d=this.queryResultsViewType.append({},p);if(this.tableView){var h=n.getElementByClass(d,"type");h.setAttribute("checked","true")}var f=JSONQuery(e,l);if(p.repObject=f,this.tableView)c.render(p,f);else{var g=new s(f);g.append(p)}}catch(m){u.exception(m)}}return!0},onTableView:function(e){var t=n.fixEvent(e),i=t.target,r=n.getAncestorByClass(i,"tabBody"),a=$(i).prop("checked");r.repObject.tableView=a;var o=n.getAncestorByClass(i,"results"),l=o.repObject,u=n.getElementByClass(o,"domTable");u&&u.parentNode.removeChild(u);var p=n.getElementByClass(o,"dataTableSizer");if(p&&p.parentNode.removeChild(p),a)c.render(o,l);else{var d=new s(l);d.append(o)}},append:function(e){for(var t=n.$(this._body,"domContent"),i=[],r=0;r<e.log.pages.length;r++){var a=e.log.pages[r];i.push(a.title)}var l=this.domBox.append({title:i.join(", ")},t),c=n.getElementByClass(l,"content"),u=n.getElementByClass(l,"splitter");this.splitter=new o.Tracker(u,{onDragStart:n.bind(this.onDragStart,this),onDragOver:n.bind(this.onDragOver,this),onDrop:n.bind(this.onDrop,this)}),this.updateSearchResultsUI();var p=new s(e);p.append(c),this.separator.append({},t)},getDomTree:function(e){for(var t=n.getElementsByClass(this._body,"domTable"),i=0;i<t.length;i++){var r=t[i].repObject;if(r.input===e)return r}return null},highlightFile:function(e,t){var i=this.getDomTree(e);if(i){i.expandRow(e.log),i.expandRow(e.log.entries);var r=i.expandRow(t);r&&n.setClassTimed(r,"jumpHighlight");var a=n.$(this._body,"domContent");a.scrollTop=r.offsetTop}},onDragStart:function(e){var t=n.getBody(this._body.ownerDocument);t.setAttribute("vResizing","true");var i=n.getAncestorByClass(e.element,"domBox"),r=n.getElementByClass(i,"content");this.startWidth=r.clientWidth},onDragOver:function(e,t){var i=n.getAncestorByClass(t.element,"domBox"),r=n.getElementByClass(i,"content"),a=this.startWidth+e.x;r.style.width=a+"px"},onDrop:function(e){var t=n.getBody(this._body.ownerDocument);t.removeAttribute("vResizing")}}),p}),define("harViewer",["domplate/tabView","tabs/homeTab","tabs/aboutTab","tabs/previewTab","tabs/schemaTab","tabs/domTab","preview/harModel","i18n!nls/harViewer","preview/requestList","core/lib","core/trace"],function(e,t,n,i,r,a,o,s,l,c,u){function p(){this.id="harView",this.model=new o,this.appendTab(new t),this.appendTab(new i(this.model)),this.appendTab(new a),this.appendTab(new n),this.appendTab(new r)}var d=document.getElementById("content");p.prototype=c.extend(new e,{initialize:function(e){this.version=e.getAttribute("version"),this.harSpecURL="http://www.softwareishard.com/blog/har-12-spec/",this.render(e),this.selectTabByName("Home");var t=c.bind(this.appendPreview,this),n=c.bind(this.onLoadError,this);if(o.Loader.run(t,n)){var i=this.getTab("Home");i&&i.loadInProgress(!0)}},appendPreview:function(e){var t=this.getTab("Home"),n=this.getTab("Preview"),i=this.getTab("DOM");try{var r=$("#validate").prop("checked"),a=o.parse(e,r);if(this.model.append(a),n)try{n.select(),n.append(a)}catch(s){u.exception("HarView.appendPreview; EXCEPTION ",s),s.errors&&n&&n.appendError(s)}i&&i.append(a)}catch(s){u.exception("HarView.appendPreview; EXCEPTION ",s),s.errors&&n&&n.appendError(s),s.input&&i.append(s.input)}n.select(),t&&t.loadInProgress(!1),c.fireEvent(d,"onViewerHARLoaded")},onLoadError:function(e,t,n){var i=this.getTab("Home");i&&i.loadInProgress(!0,e.statusText),u.error("harModule.loadRemoteArchive; ERROR ",e,t,n)},loadHar:function(e,t){return t=t||{},o.Loader.load(this,e,t.jsonp,t.jsonpCallback,t.success,t.ajaxError)},setPreviewColumns:function(e,t){l.setVisibleColumns(e,t)}});var h=d.repObject=new p;c.fireEvent(d,"onViewerPreInit"),h.initialize(d),c.fireEvent(d,"onViewerInit"),u.log("HarViewer; initialized OK")});